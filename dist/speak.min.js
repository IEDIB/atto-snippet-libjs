!function(){"use strict";var e={197:function(e,t,n){var r=n(81),i=n.n(r),o=n(645),a=n.n(o),s=n(667),c=n.n(s),u=new URL(n(73),n.b),l=a()(i()),f=c()(u);l.push([e.id,'.sd-speak-enabled{position:relative;background:whitesmoke;text-decoration:none}@keyframes speakicon_anim{0%{opacity:0;left:-10px}100%{opacity:1;left:-5px}}.sd-speak-enabled:hover:after{content:"";padding:2px;border-radius:50%;width:14px;height:14px;position:absolute;background-image:url('+f+");background-repeat:no-repeat;background-position:center;background-size:contain;left:-5px;top:-16px;z-index:1000;font-size:70%;margin:0 5px;font-weight:700;vertical-align:top;animation:speakicon_anim 1s ease}",""]),t.Z=l},645:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},667:function(e){e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:function(e){e.exports=function(e){return e[1]}},379:function(e){var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=o[u]||0,f="".concat(u," ").concat(l);o[u]=l+1;var d=n(f),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(h);else{var p=i(h,r);r.byIndex=s,t.splice(s,0,{identifier:f,updater:p,references:1})}a.push(f)}return a}function i(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var c=r(e,i),u=0;u<o.length;u++){var l=n(o[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=c}}},569:function(e){var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:function(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:function(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:function(e){e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:function(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},73:function(e){e.exports="data:image/svg+xml;charset=utf8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 style=%27background:white%27 viewBox=%270 0 512 512%27%3E%3Cpath fill=%27%232a84f9%27 d=%27M480 32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9L381.7 53c-48 48-113.1 75-181 75H192 160 64c-35.3 0-64 28.7-64 64v96c0 35.3 28.7 64 64 64l0 128c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V352l8.7 0c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V300.4c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4V32zm-64 76.7V240 371.3C357.2 317.8 280.5 288 200.7 288H192V192h8.7c79.8 0 156.5-29.8 215.3-83.3z%27/%3E%3C/svg%3E"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.b=document.baseURI||self.location.href,n.nc=void 0,function(){function e(t,n,r,i){i=i||0;var o=window;o[t]&&"function"==typeof o[t]?n&&n():i>15?r&&r():window.setTimeout((function(){e(t,n,r,i+1)}),50*(i+1))}function t(e,t){return(t=(t||"").trim()).toLowerCase().startsWith("http")?t:(r=t,n=((n=e)||"").trim(),r=(r||"").trim(),n.endsWith("/")||(n+="/"),r.startsWith("/")&&(r=r.substring(1)),n+r);var n,r}function r(e){e.forEach((function(e){var t=window.IB;if(e.meta){var n=e.meta;if(t.sd[n.name]&&"function"==typeof t.sd[n.name].init)return console.error("Warning: component '".concat(n.name,"' loaded twice.")),void t.sd[n.name].init();!function r(){t.sd[n.name]=t.sd[n.name]||{inst:{},_class:e,init:r,dispose:null};var i=n.query||'div[role="snptd_'.concat(n.name,'"], div[data-snptd="').concat(n.name,'"]');if("body"===i){if(t.sd[n.name].singl)return void console.error("Singleton already defined");var o=document.querySelector("body"),a=new e(o);a.init(),t.sd[n.name].singl=a,"_init: Initialized singleton '".concat(n.name,"' instance.")}else{var s=function(e){return document.querySelectorAll(e)}(i),c=0;s.forEach((function(r){var i=r,o=i.getAttribute("id");if(o||(o="sd_"+Math.random().toString(32).substring(2),i.setAttribute("id",o)),"1"!==i.dataset.active){var a=new e(i);a.init(),null!=t.sd[n.name].inst&&(t.sd[n.name].inst[o]=a),c++}else console.warn("Warning: Element '".concat(n.name,"' ").concat(o," already processed."))})),"_init: Initialized ".concat(c," '").concat(n.name,"' instances.")}}();t.sd[n.name].dispose=function(){var e=0;window.IB&&window.IB.sd&&window.IB.sd[n.name]&&window.IB.sd[n.name].inst&&(Object.keys(window.IB.sd[n.name].inst).forEach((function(r){var i=window.IB.sd[n.name].inst[r];i&&(i.dispose(),e++,delete t.sd[n.name].inst[r])})),"_dispose: Destroyed ".concat(e," '").concat(n.name,"' instances."))}}else console.error("Missing meta in class ",e,". Annotate it with @Component")}))}var i=function(t){window.IB=window.IB||{sd:{}};var n,i=t;i.map((function(e){var t;return(null===(t=e.meta)||void 0===t?void 0:t.use$)||!1})).reduce((function(e,t){return t||e}))?(n=function(){var e;"function"==typeof(null===(e=window.IB)||void 0===e?void 0:e.on$Ready)&&window.IB.on$Ready(),r(i)},e("require",(function(){window.require(["jquery"],(function(e){var t=e;window.$||(window.$=t),window.jQuery||(window.jQuery=t),t(n)}),(function(){console.error("Error requiring $. Waiting for $"),e("jQuery",(function(){window.$||(window.$=jQuery),$(n)}),(function(){console.error("Cannot find $. Bootstrap anyway!"),n()}),35)}))}),(function(){console.error("Cannot find requirejs. Waiting for $"),e("jQuery",(function(){$(n)}),(function(){console.error("Cannot find $. Bootstrap anyway!"),n()}),35)}),10)):"complete"===document.readyState?r(i):window.addEventListener("DOMContentLoaded",(function(){return r(i)}))},o=n(379),a=n.n(o),s=n(795),c=n.n(s),u=n(569),l=n.n(u),f=n(565),d=n.n(f),h=n(216),p=n.n(h),v=n(589),y=n.n(v),m=n(197),b={};b.styleTagTransform=y(),b.setAttributes=d(),b.insert=l().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=p();a()(m.Z,b),m.Z&&m.Z.locals&&m.Z.locals;function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===g(o)?o:String(o)),r)}var i,o}function E(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var S=E((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t}));var x={name:"",author:"",version:"1.0",use$:!1};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function j(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}var _=function(){function e(t){var n,r,i,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i="",(r=j(r="url"))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this._elem=t;var a=t.getAttribute("href")||t.dataset.lang||"en_us";a=a.replace("#speak_","");var s=t.innerText.trim();s.length>1e3?t.removeAttribute("href"):("-"==t.title&&t.removeAttribute("title"),t.classList.add("sd-speak-enabled"),this.url="https://ibsuite.es/api/gtts/speak?t="+encodeURIComponent(s)+"&l="+a,this.audio=null,this.handler=function(e){e.preventDefault(),o.play()},t.addEventListener("click",this.handler),this.handler||this._elem.removeEventListener("click",this.handler))}var t,n,r;return t=e,(n=[{key:"play",value:function(){this.audio?(this.audio.pause(),this.audio.currentTime=0):this.audio=new Audio(this.url),this.audio.src=this.url,this.audio.play()}},{key:"setSrc",value:function(e){this.audio&&(this.audio.src=e)}},{key:"pause",value:function(){this.audio&&this.audio.pause()}},{key:"dispose",value:function(){null!=this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.audio.src="",this.audio=null),this.handler&&(this._elem.classList.remove("sd-speak-enabled"),this._elem.removeAttribute("data-active"),this._elem.removeEventListener("click",this.handler),this.handler=null)}}])&&L(t.prototype,n),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const P={},O="undefined"==typeof globalThis?window:globalThis,T={status:"created"},I={};P.debug=e=>{A="function"==typeof e?e:()=>{}};let A=()=>{};P.detect=()=>N();const N=()=>{const e={};["speechSynthesis","speechSynthesisUtterance","speechSynthesisVoice","speechSynthesisEvent","speechSynthesisErrorEvent"].forEach((t=>{e[t]=V(t)})),e.onvoiceschanged=C(e.speechSynthesis,"onvoiceschanged");const t=C(e.speechSynthesisUtterance,"prototype");return D.forEach((n=>{const r=`on${n}`;e[r]=t&&C(e.speechSynthesisUtterance.prototype,r)})),I.isAndroid=G(),I.isFirefox=F()||R(),I.isSafari=M(),A(`is android: ${!!I.isAndroid}`),A(`is firefox: ${!!I.isFirefox}`),A(`is safari: ${!!I.isSafari}`),e},C=(e={},t)=>Object.hasOwnProperty.call(e,t)||t in e||!!e[t],U=()=>(O.navigator||{}).userAgent||"",G=()=>/android/i.test(U()),R=()=>/kaios/i.test(U()),F=()=>void 0!==O.InstallTrigger||/firefox/i.test(U()),M=()=>void 0!==O.GestureEvent,z=["webKit","moz","ms","o"],V=e=>{const t=`${(n=e).charAt(0).toUpperCase()}${n.slice(1)}`;var n;const r=z.map((e=>`${e}${t}`)),i=[e,t].concat(r).find(B);return O[i]},B=e=>O[e];P.status=()=>({...T}),P.filterVoices=({name:e,language:t,localService:n,voiceURI:r})=>{const i=T.voices||[],o=void 0!==e,a=void 0!==r,s=void 0!==n,c=void 0!==t,u=c&&t.split(/[-_]+/g)[0].toLocaleLowerCase();return i.filter((t=>{if(o&&t.name.includes(e)||a&&t.voiceURI.includes(r)||s&&t.localService===n)return!0;if(c){const e=t.lang&&t.lang.toLocaleLowerCase();return e&&(e===u||e.indexOf(`${u}-`)>-1||e.indexOf(`${u}_`)>-1)}return!1}))};const q=e=>{A(e),T.status=e};P.init=function({maxTimeout:e=5e3,interval:t=250,quiet:n,maxLengthExceeded:r}={}){return new Promise(((i,o)=>{if(T.initialized)return i(!1);let a,s;P.reset(),q("init: start");let c=!1;T.maxLengthExceeded=r||"warn";const u=e=>(q(`init: failed (${e})`),clearInterval(a),T.initialized=!1,n?i(!1):o(new Error(`EasySpeech: ${e}`))),l=()=>{if(!c)return q("init: complete"),c=!0,T.initialized=!0,clearInterval(a),d.onvoiceschanged=null,s&&d.removeEventListener("voiceschanged",s),i(!0)},f=N();if(!(!!f.speechSynthesis&&!!f.speechSynthesisUtterance))return u("browser misses features");Object.keys(f).forEach((e=>{T[e]=f[e]}));const{speechSynthesis:d}=T,h=()=>{const e=d.getVoices()||[];if(e.length>0){if(T.voices=e,q(`voices loaded: ${e.length}`),T.defaultVoice=e.find((e=>e.default)),!T.defaultVoice){const e=(O.navigator||{}).language||"",t=P.filterVoices({language:e});t.length>0&&(T.defaultVoice=t[0])}return T.defaultVoice||(T.defaultVoice=e[0]),!0}return!1};if(q("init: voices"),h())return l();const p=()=>{q("init: voices (timer)");let n=0;a=setInterval((()=>h()?l():n>e?u("browser has no voices (timeout)"):void(n+=t)),t)};f.onvoiceschanged?(q("init: voices (onvoiceschanged)"),d.onvoiceschanged=()=>h()?l():p(),setTimeout((()=>h()?l():u("browser has no voices (timeout)")),e)):(C(d,"addEventListener")&&(q("init: voices (addEventListener)"),s=()=>{if(h())return l()},d.addEventListener("voiceschanged",s)),p())}))};const W=({force:e}={})=>{if(!e&&!T.initialized)throw new Error("EasySpeech: not initialized. Run EasySpeech.init() first")};P.voices=()=>(W(),T.voices),P.on=e=>(W(),D.forEach((t=>{const n=e[t];H.handler(n)&&(T.handlers[t]=n)})),{...T.handlers});const D=["boundary","end","error","mark","pause","resume","start"],H={isNumber:e=>"number"==typeof e&&!Number.isNaN(e),pitch:e=>H.isNumber(e)&&e>=0&&e<=2,volume:e=>H.isNumber(e)&&e>=0&&e<=1,rate:e=>H.isNumber(e)&&e>=.1&&e<=10,text:e=>"string"==typeof e,handler:e=>"function"==typeof e,voice:e=>e&&e.lang&&e.name&&e.voiceURI};P.defaults=e=>(W(),e&&(T.defaults=T.defaults||{},["voice","pitch","rate","volume"].forEach((t=>{const n=e[t];(0,H[t])(n)&&(T.defaults[t]=n)}))),{...T.defaults});P.speak=({text:e,voice:t,pitch:n,rate:r,volume:i,force:o,infiniteResume:a,noStop:s,...c})=>{if(W({force:o}),!H.text(e))throw new Error("EasySpeech: at least some valid text is required to speak");if((new TextEncoder).encode(e).length>4096){const e="EasySpeech: text exceeds max length of 4096 bytes, which will not work with some voices.";switch(T.maxLengthExceeded){case"none":break;case"error":throw new Error(e);default:console.warn(e)}}const u=e=>{const[t,n]=Object.entries(e)[0];return H[t](n)?n:T.defaults?.[t]};return new Promise(((o,l)=>{q("init speak");const f=(e=>new(0,T.speechSynthesisUtterance)(e))(e),d=(e=>e||T.defaults?.voice||T.defaultVoice||T.voices?.[0])(t);d&&(f.voice=d,f.lang=d.lang,f.voiceURI=d.voiceURI),f.text=e,f.pitch=u({pitch:n}),f.rate=u({rate:r}),f.volume=u({volume:i});const h=f.voice&&f.voice.name&&f.voice.name.toLocaleLowerCase().includes("(natural)");Q(f,{isMsNatural:h}),D.forEach((e=>{const t=c[e];H.handler(t)&&f.addEventListener(e,t),T.handlers?.[e]&&f.addEventListener(e,T.handlers[e])})),f.addEventListener("start",(()=>{I.paused=!1,I.speaking=!0;const e=!h&&!I.isFirefox&&!I.isSafari&&!0!==I.isAndroid;("boolean"==typeof a?a:e)&&Z(f)})),f.addEventListener("end",(e=>{q("speak complete"),I.paused=!1,I.speaking=!1,clearTimeout(Y),o(e)})),f.addEventListener("error",((e={})=>{q(`speak failed: ${e.message}`),I.paused=!1,I.speaking=!1,clearTimeout(Y),l(e)})),clearTimeout(Y),!0!==s&&T.speechSynthesis.cancel(),setTimeout((()=>T.speechSynthesis.speak(f)),10)}))};const Q=({voice:e,pitch:t,rate:n,volume:r},{isMsNatural:i=!1}={})=>{A(`utterance: voice=${e?.name} volume=${r} rate=${n} pitch=${t} isMsNatural=${i}`)};let Y;function Z(e){if(!e&&Y)return A("force-clear timeout"),O.clearTimeout(Y);const{paused:t,speaking:n}=T.speechSynthesis,r=n||I.speaking,i=t||I.paused;A(`resumeInfinity isSpeaking=${r} isPaused=${i}`),r&&!i&&(T.speechSynthesis.pause(),T.speechSynthesis.resume()),Y=O.setTimeout((function(){Z(e)}),5e3)}function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function K(){K=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new L(i||[]);return r(a,"_invoke",{value:E(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function h(){}function p(){}var v={};c(v,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==t&&n.call(m,o)&&(v=m);var b=p.prototype=d.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,s){var c=l(e[r],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==J(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return _()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function X(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,te(r.key),r)}}function te(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===J(t)?t:String(t)}P.cancel=()=>{W(),q("cancelling"),T.speechSynthesis.cancel(),I.paused=!1,I.speaking=!1},P.resume=()=>{W(),q("resuming"),I.paused=!1,I.speaking=!0,T.speechSynthesis.resume()},P.pause=()=>{if(W(),q("pausing"),I.isAndroid)return A("patch pause on Android with cancel"),T.speechSynthesis.cancel();T.speechSynthesis.pause(),I.paused=!0,I.speaking=!1},P.reset=()=>{Object.assign(T,{status:"reset",initialized:!1,speechSynthesis:null,speechSynthesisUtterance:null,speechSynthesisVoice:null,speechSynthesisEvent:null,speechSynthesisErrorEvent:null,voices:null,defaultVoice:null,defaults:{pitch:1,rate:1,volume:1,voice:null},handlers:{}})};var ne=function(){function e(t,n){var r,i,o,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=null,(i=te(i="_voice"))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,this._elem=t;var s=(t.getAttribute("href")||"_").split("_")[1];"-"==t.title&&t.removeAttribute("title"),this._voice=function(e,t){e=(e||"").toLowerCase();for(var n=0,r=null,i=(t||[]).length;n<i&&null==r;)t[n].lang.toLowerCase()==e&&(r=t[n]),n++;return r}(s,n),this.handler=null,this._voice?(t.classList.add("sd-speak-enabled"),this.handler=function(e){e.preventDefault(),a.play()},t.addEventListener("click",this.handler)):t.removeAttribute("href")}var t,n,r,i,o;return t=e,n=[{key:"play",value:(i=K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._voice){e.next=2;break}return e.abrupt("return");case 2:return P.cancel(),e.next=5,P.speak({text:this._elem.innerText,voice:this._voice,pitch:1,rate:1,volume:1});case 5:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){X(o,n,r,a,s,"next",e)}function s(e){X(o,n,r,a,s,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"setSrc",value:function(e){}},{key:"pause",value:function(){P.pause()}},{key:"dispose",value:function(){this._elem.removeEventListener("click",this.handler),this._elem.classList.remove("sd-speak-enabled"),this._elem.removeAttribute("data-active")}}],n&&ee(t.prototype,n),r&&ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===re(o)?o:String(o)),r)}var i,o}var oe=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.src="",null!=t){var r=t.dataset;this.src=r.src||""}!this.src&&n&&(this.src=n),this.elem=t}var t,n,r;return t=e,(n=[{key:"play",value:function(){this.audioElement?this.audioElement.play():(this.audioElement=new Audio(this.src),this.audioElement.play(),this.elem||this.bindHandler())}},{key:"setSrc",value:function(e){this.audioElement&&(this.audioElement.src=e)}},{key:"bindHandler",value:function(){var e=this;this.handler=function(t){t.preventDefault(),e.play()},this.elem&&this.elem.addEventListener("click",this.handler)}},{key:"pause",value:function(){this.audioElement&&this.audioElement.pause()}},{key:"dispose",value:function(){this.audioElement=null,this.handler&&this.elem&&this.elem.removeEventListener("click",this.handler)}}])&&ie(t.prototype,n),r&&ie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===ae(o)?o:String(o)),r)}var i,o}var ce={en:"definition",ca:"definicio",es:"definicion"},ue="https://www.wordreference.com/",le={us:"United States",uk:"United Kingdom",irish:"Irish",scot:"Scottish",jamaica:"Jamaica",es:"España",castellano:"España",ca:"Catalunya",mexico:"México",argentina:"Argentina"};function fe(e){return le[e]||e}var de,he=function(e,n){return new Promise((function(r,i){if(e in ce){var o=ue+ce[e]+"/"+encodeURIComponent(n);ce[e]?$.ajax({method:"GET",dataType:"html",url:o}).done((function(n){var o=n.match(/<script>var\s+audioFiles\s+=(.*?)\]/m);if(o&&2==o.length){var a=o[1].trim().replace(/'/g,'"');a.endsWith(",")&&(a=a.substring(0,a.length-1));var s=JSON.parse(a+"]"),c=(u=e,l={},s.forEach((function(e){var n=e.split("/"),r=n[n.indexOf(u)+1].toLowerCase();l[r]||(l[r]={name:fe(r),url:t(ue,e)})})),l);r(c)}else{var u,l;i("cannot find audioFiles in page")}})).fail((function(e){i(e)})):i()}else i()}))},pe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elem=t,t.classList.add("sd-speak-enabled"),this.init()}var n,r,i;return n=e,(r=[{key:"lazyLoad",value:function(e){var n,r=this;if(null==this.audioElement){var i=null===(n=this.$dropdown)||void 0===n?void 0:n.find(".dropdown-menu");he("en",this.elem.innerText).then((function(n){var o=Object.keys(n);if(o.length>0){var a=n[o[0]],s=t(ue,a.url);r.audioElement=new oe(void 0,s),o.length>1&&o.forEach((function(e){var t=n[e],o=$('<a class="dropdown-item" data-variant="'.concat(e,'" href="#">').concat(t.name,"</a>"));o.on("click",(function(e){e.preventDefault();var t=e.target.dataset.variant||"",i=n[t];r.audioElement&&(i.url,r.audioElement.setSrc(i.url),r.audioElement.play())})),i&&i.append(o)}))}else console.warn("Fallback on GTTSPlayer US"),r.elem.setAttribute("href","#speak_en-US"),r.audioElement=new _(r.elem);e&&r.audioElement.play()}),(function(e){r.audioElement=new _(r.elem),r.elem.setAttribute("href","#speak_en-US"),r.audioElement.play()}))}}},{key:"init",value:function(){var e=this,t="g"+Math.random().toString(32).substring(2);this.$dropdown=$('\n        <div class="dropdown" style="display:inline-block;">\n          <button class="btn btn-secondary btn-sm" style="margin:2px;padding:4px;height:15px;" type="button" id="dmb_'.concat(t,'" data-toggle="dropdown" data-boundary="viewport" aria-haspopup="true" aria-expanded="false">\n          <i class="fas fa fa-globe" style="transform: translateY(-9px);font-size:90%;"></i>\n          </button>\n          <div class="dropdown-menu" aria-labelledby="dmb_').concat(t,'"> \n          </div>\n        </div>')),this.$dropdown.insertAfter($(this.elem)),this.$dropdown.find("button").on("click",(function(t){e.lazyLoad()})),this.handler=function(t){t.preventDefault(),null==e.audioElement?e.lazyLoad(!0):e.play()},this.elem.addEventListener("click",this.handler)}},{key:"play",value:function(){this.audioElement&&this.audioElement.play()}},{key:"setSrc",value:function(e){this.audioElement&&(this.audioElement.src=e)}},{key:"pause",value:function(){this.audioElement&&this.audioElement.pause()}},{key:"dispose",value:function(){var e;this.pause(),this.elem.classList.remove("sd-speak-enabled"),this.handler&&(this.elem.removeEventListener("click",this.handler),this.handler=null),null===(e=this.$dropdown)||void 0===e||e.find("button").off()}}])&&se(n.prototype,r),i&&se(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function ye(){ye=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new L(i||[]);return r(a,"_invoke",{value:E(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function h(){}function p(){}var v={};c(v,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==t&&n.call(m,o)&&(v=m);var b=p.prototype=d.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,s){var c=l(e[r],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==ve(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return _()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function me(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===ve(o)?o:String(o)),r)}var i,o}function ge(e,t){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ge(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var i=Se(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){if(t&&("object"===ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}var xe,ke,Le=(xe={name:"speak",author:"Josep Mulet Pol",version:"2.6",query:'a[href^="#speak_"],[role="snptd_speak"],[data-snptd="speak"]',use$:!0},(ke=Object.assign({},x,xe)).query||(ke.query='[role="snptd_'.concat(ke.name,'"],[data-snptd="').concat(ke.name,'"]')),function(e){e.meta=ke}(de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}(s,e);var t,n,r,i,o,a=we(s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,e)}return t=s,n=[{key:"init",value:(i=ye().mark((function e(){var t,n,r,i,o;return ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("1"!==(n=this.parent.dataset).active){e.next=3;break}return e.abrupt("return");case 3:if(n.active="1",!n.src){e.next=7;break}return this.audioPlayer=new oe(this.parent),e.abrupt("return");case 7:if(null===(t=this.parent.getAttribute("href"))||void 0===t||!t.endsWith("#speak_en-wr")){e.next=15;break}if(!(this.parent.innerText.trim().indexOf(" ")<0)){e.next=13;break}return this.audioPlayer=new pe(this.parent),e.abrupt("return");case 13:console.error("WordReference only works for single words."),this.parent.setAttribute("href","#speak_en-US");case 15:if(r=P.detect(),i=null!=r.speechSynthesis&&null!=r.speechSynthesisUtterance,this.audioPlayer=null,!i){e.next=26;break}return e.next=21,P.init({maxTimeout:5e3,interval:250});case 21:e.sent?(o=P.voices()).length?this.audioPlayer=new ne(this.parent,o):(console.warn("EasySpeech.voices returns no voices. Fallback on GTTS player."),this.audioPlayer=new _(this.parent)):(console.warn("EasySpeech.init returns false. Fallback on GTTS player."),this.audioPlayer=new _(this.parent)),window.addEventListener("unload",(function(){window.speechSynthesis.cancel()})),e.next=28;break;case 26:console.warn("Web Speech Synthesis is not supported. Fallback on GTTS player instead."),this.audioPlayer=new _(this.parent);case 28:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){me(o,n,r,a,s,"next",e)}function s(e){me(o,n,r,a,s,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"dispose",value:function(){"1"===this.parent.dataset.active&&(this.parent.removeAttribute("data-active"),this.audioPlayer&&this.audioPlayer.dispose(),this.audioPlayer=null)}},{key:"play",value:function(){this.audioPlayer&&this.audioPlayer.play()}},{key:"setSrc",value:function(e){}},{key:"pause",value:function(){this.audioPlayer&&this.audioPlayer.pause()}}],n&&be(t.prototype,n),r&&be(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(S))||de);i([Le])}()}();