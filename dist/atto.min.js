!function(){"use strict";var t={923:function(t,e,n){var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,".modal-fullscreen-xl .modal-header {\n    padding: 0rem 1rem;\n    border: none;\n}\n.modal-fullscreen-xl .close {\n    font-size: 200%;\n    border-radius: 50%;\n    background: black;\n}\n.modal-fullscreen-xl .modal-dialog {\n    width: 95%;\n    height: 95%;\n    max-width: none;\n    margin: auto;\n}\n.modal-fullscreen-xl .modal-content {\n    height: 100%;\n    border: 0;\n    border-radius: 0;\n    background: rgba(0,0,0,0);\n}\n.modal-fullscreen-xl .modal-body {\n    width: 100%;\n    overflow: auto;\n    background: rgba(0,0,0,0);\n}\n.navigate-left-arrow, .navigate-right-arrow {\n    font-size: 300%;\n    color: whitesmoke;\n}",""]),e.Z=a},388:function(t,e,n){var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,' .pw-laser-nw {\n     position: relative;\n }\n\n .pw-laser-nw::after {\n     content: "";\n     position: absolute;\n     left: 0;\n     top: 0;\n     width: 10px;\n     height: 10px;\n     border-radius: 50%;\n     background: rgba(255, 0, 0, 0.6);\n     box-shadow: 0 0 5px 3px red;\n }\n\n .pw-laser-ne {\n     position: relative;\n }\n\n .pw-laser-ne::after {\n     content: "";\n     position: absolute;\n     right: 0;\n     top: 0;\n     width: 10px;\n     height: 10px;\n     border-radius: 50%;\n     background: rgba(255, 0, 0, 0.6);\n     box-shadow: 0 0 5px 3px red;\n }\n\n .pw-laser-sw {\n     position: relative;\n }\n\n .pw-laser-sw::after {\n     content: "";\n     position: absolute;\n     left: 0;\n     bottom: 0;\n     width: 10px;\n     height: 10px;\n     border-radius: 50%;\n     background: rgba(255, 0, 0, 0.6);\n     box-shadow: 0 0 5px 3px red;\n }\n\n.pw-laser-se {\n     position: relative;\n }\n\n .pw-laser-se::after {\n     content: "";\n     position: absolute;\n     right: 0;\n     bottom: 0;\n     width: 10px;\n     height: 10px;\n     border-radius: 50%;\n     background: rgba(255, 0, 0, 0.6);\n     box-shadow: 0 0 5px 3px red;\n }\n\n .pw-laser-md {\n     position: relative;\n }\n\n .pw-laser-md::after {\n     content: "";\n     position: absolute;\n     left: 50%;\n     bottom: 50%;\n     width: 10px;\n     height: 10px;\n     border-radius: 50%;\n     background: rgba(255, 0, 0, 0.6);\n     box-shadow: 0 0 5px 3px red;\n }\n\n .audible-media-player {\n     max-width: 600px;\n     padding: 6px;\n     border-radius: 7px;\n     display: flex;\n     margin: auto;\n     margin-bottom: 15px;\n }\n\n .audible-frog span, .audible-frog button {\n     color: #4f6e46;\n }\n\n .audible-sky {\n     background: rgb(241, 245, 254);\n }\n\n .audible-frog {\n     background: #e6ede6;\n }\n\n .audible-sky span, .audible-sky button {\n     color: rgb(31, 106, 219);\n }\n\n .pw-audible-btn {\n     background: none;\n     border: none;\n     color: #4f6e46;\n     margin: 0 5px;\n }\n\n.pw-pen-yellow {\n     -webkit-box-shadow: #FFF 0 -1px 4px, #ff0 0 -2px 10px, 5px 5px 15px 5px rgba(0, 0, 0, 0);\n     box-shadow: #FFF 0 -1px 4px, #ff0 0 -2px 10px, 5px 5px 15px 5px rgba(0, 0, 0, 0);\n     background: rgb(255, 255, 193, 0.5);\n }\n\n .pw-pen-green {\n     -webkit-box-shadow: #FFF 0 -1px 4px, #3f3 0 -2px 10px, 5px 5px 15px 5px rgba(0, 0, 0, 0);\n     box-shadow: #FFF 0 -1px 4px, #3f3 0 -2px 10px, 5px 5px 15px 5px rgba(0, 0, 0, 0);\n     background: rgb(193, 255, 200, 0.5);\n }\n\n .pw-pen-red {\n     -webkit-box-shadow: #FFF 0 -1px 4px, #f33 0 -2px 10px, 5px 5px 15px 5px rgba(0, 0, 0, 0);\n     box-shadow: #FFF 0 -1px 4px, #f33 0 -2px 10px, 5px 5px 15px 5px rgba(0, 0, 0, 0);\n     background: rgb(255, 193, 193, 0.5);\n }\n\n @media print {\n     .audible-media-player {\n         display: none;\n     }\n }\n',""]),e.Z=a},889:function(t,e,n){var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,'@media not print {\n    body.editing div[role="snptd_presentacio"] .nav.nav-tabs {\n        background: lightgray;\n        position: relative;\n    }\n    body.editing div[role="snptd_presentacio"] .nav.nav-tabs::before {\n        content: \'\\f1e7\';\n        position: absolute;\n        top: 5px;\n        right: 5px; \n        font-family: \'FontAwesome\';\n        font-size: 150%;\n    }\n\n    div[role="snptd_presentacio"] {\n        margin: auto;\n        border-radius: 5px;\n        border: 2px solid #d4ebee;\n        max-width: 600px;\n    }\n  \n    div[role="snptd_presentacio"].theme-dark > .tab-content {\n        background: #363640;\n        color: whitesmoke;\n    }\n\n    div[role="snptd_presentacio"].align-center div.tab-pane {\n        align-self: center;\n        min-height: initial;\n    }\n\n    div[role="snptd_presentacio"].align-bottom div.tab-pane {\n        align-self: flex-end;\n        min-height: initial;\n    }\n}\n  ',""]),e.Z=a},982:function(t,e,n){var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,'body.editing .ib-quizz-elem {\n    display: inline-block;\n    position: relative;\n    padding: 4px;\n    background-color: gray;\n}\nbody.editing ib-quizz-dropdown::after {\n    content: "Quizz::Dropdown";\n}\nbody.editing ib-quizz-mchoice::after {\n    content: "Quizz::Mchoice";\n}\nbody.editing ib-quizz-numeric::after {\n    content: "Quizz::Numeric";\n}\n\n.ib-quizz-right {\n    margin-left: 8px;\n    border-radius:50%;\n    background-color: rgb(67, 140, 67);\n    color: white;\n    width: 23px;\n    display: inline-block;\n    height: 23px;\n    text-align: center;\n}\n.ib-quizz-wrong {\n    margin-left: 8px;\n    border-radius:50%;\n    background-color: rgb(164, 60, 60);\n    color: white;\n    width: 23px;\n    display: inline-block;\n    height: 23px;\n    text-align: center;\n}\n.ib-quizz-error {\n    margin-left: 8px;\n    border-radius:50%;\n    background-color: rgb(114, 57, 90);\n    color: white;\n    width: 23px;\n    display: inline-block;\n    height: 23px;\n    text-align: center;\n}\n\n/* Editor styles */\n.pw-me-dlg {\n    display: flex;\n    flex-direction: column;\n    position: fixed;\n    margin: auto;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    border: 2px solid lightgray;\n    z-index: 100;\n    background: white;\n    box-shadow: 4px 4px 4px #888888;\n    border-radius: 5px;\n}\n\n.pw-me-dlg-header {\n    background: whitesmoke;\n    width: 100%;\n    height: 23px;\n    border-bottom: 2px solid lightgray;\n}\n\n.pw-me-dlg-headertitle {\n    color: black;\n    margin-left: 8px;\n}\n.pw-me-dlg-body {\n    flex-grow: 1;\n    width: 100%;\n    overflow: auto;\n}\n\n.pw-me-dlg-controls {\n    background: white;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 5px;\n}\n\n.pw-me-btn-dlgclose {\n    color: gray;\n    width: 23px;\n    height: 23px;\n    float: right;\n    padding: 0;\n}\n',""]),e.Z=a},665:function(t,e,n){var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,".sd-speak-enabled {\n    position: relative;\n    background: whitesmoke;\n    text-decoration: none;  \n  } \n  @keyframes speakicon_anim {\n    0% {\n      opacity: 0;\n      left: -10px;\n    }\n    100% {\n      opacity: 1;\n      left: -5px;\n    }\n  } \n  .sd-speak-enabled:hover:after {\n    content: \"\\f025\";\n    position: absolute;\n    left: -5px;\n    top: -16px;\n    background: white;\n    z-index:1000;\n    font-family: 'FontAwesome'; \n    font-size: 70%;\n    margin: 0px 5px;\n    font-weight: 700; \n    vertical-align:top; \n    animation: speakicon_anim 1s ease;\n  }",""]),e.Z=a},441:function(t,e,n){var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"@media print and (color) {\n    .pw-tasca-solucio, .pw-tasca-nprt {\n        display:none!important;\n    }\n}",""]),e.Z=a},645:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);r&&a[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},81:function(t){t.exports=function(t){return t[1]}},379:function(t){var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var u=t[s],l=r.base?u[0]+r.base:u[0],c=i[l]||0,p="".concat(l," ").concat(c);i[l]=c+1;var d=n(p),f={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var h=o(f,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:h,references:1})}a.push(p)}return a}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var u=r(t,o),l=0;l<i.length;l++){var c=n(i[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}i=u}}},569:function(t){var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:function(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:function(t){t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.nc=void 0,function(){var t=n(379),e=n.n(t),r=n(795),o=n.n(r),i=n(569),a=n.n(i),s=n(565),u=n.n(s),l=n(216),c=n.n(l),p=n(589),d=n.n(p),f=n(923),h={};h.styleTagTransform=d(),h.setAttributes=u(),h.insert=a().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=c();e()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;var b=n(388),y={};y.styleTagTransform=d(),y.setAttributes=u(),y.insert=a().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=c();e()(b.Z,y),b.Z&&b.Z.locals&&b.Z.locals;var v=n(889),g={};g.styleTagTransform=d(),g.setAttributes=u(),g.insert=a().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=c();e()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var m=n(982),w={};w.styleTagTransform=d(),w.setAttributes=u(),w.insert=a().bind(null,"head"),w.domAPI=o(),w.insertStyleElement=c();e()(m.Z,w),m.Z&&m.Z.locals&&m.Z.locals;var x=n(665),k={};k.styleTagTransform=d(),k.setAttributes=u(),k.insert=a().bind(null,"head"),k.domAPI=o(),k.insertStyleElement=c();e()(x.Z,k),x.Z&&x.Z.locals&&x.Z.locals;var O=n(441),S={};S.styleTagTransform=d(),S.setAttributes=u(),S.insert=a().bind(null,"head"),S.domAPI=o(),S.insertStyleElement=c();e()(O.Z,S),O.Z&&O.Z.locals&&O.Z.locals;function z(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j(t){return function(e){var n=e.prototype.connectedCallback,r=t.elementName,o=t.classes,i=t.styles;e.prototype.connectedCallback=function(){var t;o&&(t=this.classList).add.apply(t,z(o));i&&Object.assign(this.style,i),n&&n.apply(this)},customElements.define(r,e)}}function P(t,e){var n=document.createElement(t);return Object.keys(e).forEach((function(t){var r=e[t];"class"===t?r.trim().split(/\s+/).forEach((function(t){n.classList.add(t)})):"style"===t?r.split(";").forEach((function(t){var e=t.split(":");2===e.length&&n.style.setProperty(e[0].trim(),e[1].trim())})):"html"===t?n.innerHTML=r:n.setAttribute(t,r)})),n}function T(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}}var A,R={ca:{check:"Comprova",chooseone:"Tria una opció",right:"Ben fet!",wrong:"Ho sento. Intentau-ho de nou",error:"Hi ha hagut un error processant la resposta"},es:{check:"Comprueba",chooseone:"Elige una opción",right:"¡Bien hecho!",wrong:"Lo siento. Inténtalo de nuevo.",error:"Ha habido un error procesando la respuesta"},en:{check:"Check",chooseone:"Choose one",right:"Well done!",wrong:"Try it again.",error:"There has been an error processing the answer"},fr:{check:"Vérifier",chooseone:"Choisis une option",right:"",wrong:"",error:""},de:{check:"Prüfen",chooseone:"Wähle eine option",right:"",wrong:"",error:""}};function _(t,e){var n=R[t];return n||(n=R.en),n[e]||e}function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function D(t,e,n){return(e=I(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t){var e=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===C(e)?e:String(e)}!function(t){t[t.ERROR=0]="ERROR",t[t.UNSET=1]="UNSET",t[t.WRONG=2]="WRONG",t[t.RIGHT=3]="RIGHT"}(A||(A={}));var L=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,"status",A.UNSET),D(this,"lang","ca"),this.span=document.createElement("span"),this.span.setAttribute("data-toggle","tooltip")}var e,n,r;return e=t,(n=[{key:"setStatus",value:function(t,e){this.status=t;var n=this.span.classList,r=e;switch(t){case A.UNSET:n.remove("ib-quizz-right","ib-quizz-wrong","ib-quizz-error"),this.span.innerHTML="";break;case A.RIGHT:n.add("ib-quizz-right"),r||(r=_(this.lang,"right")),this.span.innerHTML='<i class="'.concat("fa fas fa-check",'"></i>');break;case A.WRONG:n.add("ib-quizz-wrong"),r||(r=_(this.lang,"wrong")),this.span.innerHTML='<i class="'.concat("fa fas fa-times",'"></i>');break;default:n.add("ib-quizz-error"),r||(r=_(this.lang,"error")),this.span.innerHTML='<i class="'.concat("fa fas fa-exclamation",'"></i>')}r&&this.span.setAttribute("title",r)}},{key:"getStatus",value:function(){return this.status}},{key:"setLang",value:function(t){this.lang=t}},{key:"getElement",value:function(){return this.span}}])&&q(e.prototype,n),r&&q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W(r.key),r)}}function Z(t,e){if(e&&("object"===M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return B(t)}function B(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t){var e="function"==typeof Map?new Map:void 0;return F=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return H(t,arguments,G(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),U(r,t)},F(t)}function H(t,e,n){return H=J()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&U(o,n.prototype),o},H.apply(null,arguments)}function J(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}function W(t){var e=function(t,e){if("object"!==M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===M(e)?e:String(e)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(s,t);var e,n,r,o,i,a=(e=s,n=J(),function(){var t,r=G(e);if(n){var o=G(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Z(this,t)});function s(){var t,e,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this),e=B(t),r="ca",(n=W(n="lang"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t.innerHTML="",t.classList.add("d-print-none"),t.statusDisplay=new L,t.editMode=null!=document.querySelector("body.editing"),t.editMode&&t.addEventListener("click",(function(e){return t.edit()})),t}return r=s,(o=[{key:"init",value:function(t){if(t){var e=document.createElement("span");e.innerHTML=t,this.prepend(e)}}},{key:"reflowLatex",value:function(){window.MathJax&&(window.MathJax.typesetPromise&&window.MathJax.typesetPromise(),window.MathJax.Hub&&window.MathJax.Hub.Queue&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub]))}},{key:"setLang",value:function(t){this.lang=t,this.statusDisplay.setLang(t)}},{key:"setStatus",value:function(t,e){this.statusDisplay.setStatus(t,e)}},{key:"discoverAttoId",value:function(){for(var t=this;null==this.attoId&&null!=t&&!t.classList.contains("editor_atto_content_wrap")&&"body"!==t.nodeName&&t!==window;)t.classList.contains("editor_atto_content")&&(this.attoId=t.getAttribute("id")||""),t=t.parentElement;return this.attoId,this.attoId}}])&&N(r.prototype,o),i&&N(r,i),Object.defineProperty(r,"prototype",{writable:!1}),s}(F(HTMLElement));function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==X(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===X(i)?i:String(i)),r)}var o,i}var V,K=function(){function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id="pwdlg_"+Math.random().toString(32).substring(2),this.window=$('<div id="'+this.id+'" class="pw-me-dlg" style="width:'+n+"px;height:"+r+'px;display:none;"></div>');var i=$('<div class="pw-me-dlg-header"></div>');this.topBar=i;var a=$('<span class="pw-me-dlg-headertitle">'+e+"</span>");this.closeBtn=$('<button class="btn btn-sm pw-me-btn-dlgclose" title="Tancar"><i class="fa fas fa-times"></i></button>'),this.closeBtn.on("click",(function(t){t.preventDefault(),o.window.css("display","none")})),i.append(a),i.append(this.closeBtn),this.window.append(i),this.body=$('<div class="pw-me-dlg-body"></div>'),this.window.append(this.body);var s=$('<div class="pw-me-dlg-controls"></div>'),u=$('<button class="btn btn-sm btn-primary">Acceptar</button>'),l=$('<button class="btn btn-sm btn-outline-primary">Cancel·lar</button>');u.on("click",(function(){o.close(),o.onAccept&&o.onAccept()})),l.on("click",(function(){o.close(),o.onCancel&&o.onCancel()})),s.append(u),s.append(l),this.window.append(s),$("body").append(this.window);var c,p,d,f,h=!1,b=0,y=0;this.dragStart=function(t){"touchstart"===t.type?(d=t.touches[0].clientX-b,f=t.touches[0].clientY-y):(d=t.clientX-b,f=t.clientY-y),t.target===i[0]&&(h=!0)},this.dragEnd=function(t){d=c,f=p,h=!1},this.setTranslate=function(t,e,n){n.style.transform="translate3d("+t+"px, "+e+"px, 0)"},this.drag=function(t){h&&(t.preventDefault(),"touchmove"===t.type?(c=t.touches[0].clientX-d,p=t.touches[0].clientY-f):(c=t.clientX-d,p=t.clientY-f),b=c,y=p,o.setTranslate(c,p,o.window[0]))},i[0].addEventListener("touchstart",this.dragStart,!1),i[0].addEventListener("touchend",this.dragEnd,!1),i[0].addEventListener("touchmove",this.drag,!1),i[0].addEventListener("mousedown",this.dragStart,!1),i[0].addEventListener("mouseup",this.dragEnd,!1),i[0].addEventListener("mousemove",this.drag,!1)}var e,n,r;return e=t,(n=[{key:"append",value:function(t){this.window.append(t)}},{key:"show",value:function(){this.window.css("display","flex")}},{key:"close",value:function(){this.window.css("display","none")}},{key:"remove",value:function(){this.closeBtn.off(),this.window.remove(),this.topBar[0].removeEventListener("touchstart",this.dragStart),this.topBar[0].removeEventListener("touchend",this.dragEnd),this.topBar[0].removeEventListener("touchmove",this.drag),this.topBar[0].removeEventListener("mousedown",this.dragStart),this.topBar[0].removeEventListener("mouseup",this.dragEnd),this.topBar[0].removeEventListener("mousemove",this.drag)}},{key:"dispose",value:function(){this.remove()}},{key:"setAcceptAction",value:function(t){this.onAccept=t}},{key:"setCancelAction",value:function(t){this.onCancel=t}},{key:"setBody",value:function(t){this.body.html(""),this.body.append(t)}}])&&Y(e.prototype,n),r&&Y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function tt(){return null==V&&(V=new K("Editor",600,400)),V}for(var et=P("div",{style:"width:100%;padding:10px",html:'\n        Correcte / Opcions<br>\n        <input type="checkbox" id="quizzDDOptRight_0"> <input type="text" style="width:90%" id="quizzDDOpt_0"><br>\n        <input type="checkbox" id="quizzDDOptRight_1"> <input type="text" style="width:90%" id="quizzDDOpt_1"><br>\n        <input type="checkbox" id="quizzDDOptRight_2"> <input type="text" style="width:90%" id="quizzDDOpt_2"><br>\n        <input type="checkbox" id="quizzDDOptRight_3"> <input type="text" style="width:90%" id="quizzDDOpt_3"><br>\n        <input type="checkbox" id="quizzDDOptRight_4"> <input type="text" style="width:90%" id="quizzDDOpt_4"><br>\n        <input type="checkbox" id="quizzDDOptRight_5"> <input type="text" style="width:90%" id="quizzDDOpt_5"><br>\n        <br>\n        <input type="checkbox" id="quizzDDshuffle"> Barreja les opcions<br>\n        <hr>\n        Text abans de l\'element<br>\n        <textarea id="quizz-numedit-pre" rows="2" style="width:98%"></textarea>\n        <br>\n        Feedback de la resposta<br>\n        <textarea id="quizz-numedit-feedback" rows="2" style="width:98%"></textarea>\n        <br>\n    '}),nt=new Array(6),rt=new Array(6),ot=0;ot<6;ot++)nt[ot]=et.querySelector("#quizzDDOptRight_"+ot),rt[ot]=et.querySelector("#quizzDDOpt_"+ot);var it=et.querySelector("#quizzDDshuffle"),at=et.querySelector("#quizz-numedit-pre"),st=et.querySelector("#quizz-numedit-feedback");var ut,lt=function(t,e){if(t)try{(function(t){var e,n=t.ans.split(",").map((function(t){return t.trim()})),r=t.vars||[];r.forEach((function(t,e){nt[e].checked=n.indexOf(e+"")>=0,rt[e].value=t}));for(var o=r.length;o<6;o++)nt[o].checked=!1,rt[o].value="";it.checked=(null===(e=t.opts)||void 0===e?void 0:e.shuffle)||!1,st.value=t.fbk||"",at.value=t.pre||""})(JSON.parse(atob(t)));var n=tt();n.setBody($(et)),n.show(),n.setAcceptAction((function(){var t,n,r=(t=[],n=[],rt.forEach((function(e,r){var o=e.value||"";o.trim()&&(n.push(o),nt[r].checked&&t.push(r+""))})),{ans:t.join(","),vars:n,fbk:st.value||"",pre:at.value||"",opts:{shuffle:it.checked}}),o=btoa(JSON.stringify(r));e(o)}))}catch(e){console.error("Error parsing:: ",t),console.error(e)}};function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xt(r.key),r)}}function ft(){return ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ht(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ft.apply(this,arguments)}function ht(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mt(t)););return t}function bt(t,e){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bt(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mt(t);if(e){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(t,e){if(e&&("object"===ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gt(t)}function gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mt(t){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(t)}function wt(t,e,n){return(e=xt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xt(t){var e=function(t,e){if("object"!==ct(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ct(e)?e:String(e)}j({elementName:"ib-quizz-dropdown",classes:["ib-quizz-elem"],styles:{display:"inline-block"}})(ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bt(t,e)}(i,t);var e,n,r,o=yt(i);function i(){var t;pt(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return wt(gt(t=o.call.apply(o,[this].concat(n))),"userAns",-1),t}return e=i,n=[{key:"enable",value:function(t){this.button&&(this.button.disabled=!t)}},{key:"getUserInput",value:function(){return this.userAns+""}},{key:"displayRightAnswer",value:function(){this.enable(!1)}},{key:"check",value:function(){var t,e=(null===(t=this.widgetConfig)||void 0===t?void 0:t.ans)===this.userAns+"";return this.setStatus(e?A.RIGHT:A.WRONG),this.enable(!e),e}},{key:"setLang",value:function(t){ft(mt(i.prototype),"setLang",this).call(this,t),this.button&&(this.button.innerHTML=_(t,"chooseone"))}},{key:"connectedCallback",value:function(){var t,e,n,r,o=this;if(this.editMode)this.attoId=this.discoverAttoId();else{this.dropdown=P("div",{class:"dropdown",style:"display:inline-block;"});var a=this.dataset.src||"";try{a=atob(a),this.widgetConfig=JSON.parse(a)}catch(t){console.error(t)}if(this.widgetConfig,this.widgetConfig&&!this.editMode){this.button=P("button",{class:"btn btn-outline-primary dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",html:_(this.lang,"chooseone")}),this.options=P("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"});for(var s=(null===(t=this.widgetConfig)||void 0===t||null===(e=t.vars)||void 0===e?void 0:e.length)||0,u=new Array(s),l=0;l<s;l++)u[l]=l;null!==(n=this.widgetConfig)&&void 0!==n&&null!==(r=n.opts)&&void 0!==r&&r.shuffle&&T(u),u.forEach((function(t){var e,n,r=((null===(e=o.widgetConfig)||void 0===e?void 0:e.vars)||[])[t],i=P("a",{class:"dropdown-item",href:"#","data-index":t+"",html:r});i.addEventListener("click",(function(e){o.userAns=t,e.preventDefault(),o.button&&(o.button.innerHTML=r),o.setStatus(A.UNSET)})),null===(n=o.options)||void 0===n||n.append(i)})),this.dropdown.append(this.button),this.dropdown.append(this.options),ft(mt(i.prototype),"init",this).call(this,this.widgetConfig.pre),this.append(this.dropdown),this.append(this.statusDisplay.getElement()),this.reflowLatex()}}}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"edit",value:function(){var t=this,e=document.getElementById(this.attoId||"");alert("Editing dropdown at atto "+this.attoId+" "+e),e&&lt(this.getAttribute("data-src"),(function(n){if(n){t.setAttribute("data-src",n);var r=new Event("updated");null==e||e.dispatchEvent(r)}}))}}],r=[{key:"observedAttributes",get:function(){return["data-src"]}}],n&&dt(e.prototype,n),r&&dt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Q));var kt,Ot=function(t){return null};function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dt(r.key),r)}}function jt(){return jt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Pt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},jt.apply(this,arguments)}function Pt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ct(t)););return t}function Tt(t,e){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tt(t,e)}function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ct(t);if(e){var o=Ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(t,e){if(e&&("object"===St(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _t(t)}function _t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ct(t){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ct(t)}function qt(t,e,n){return(e=Dt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dt(t){var e=function(t,e){if("object"!==St(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==St(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===St(e)?e:String(e)}j({elementName:"ib-quizz-mchoice",classes:["iedib-quizz-widget"],styles:{display:"flex","align-items":"center"}})(kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(i,t);var e,n,r,o=At(i);function i(){var t;zt(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return qt(_t(t=o.call.apply(o,[this].concat(n))),"radios",[]),qt(_t(t),"userAns",-1),t}return e=i,n=[{key:"enable",value:function(t){var e;null===(e=this.radios)||void 0===e||e.forEach((function(e){var n,r;t?(e.disabled=!1,null===(n=e.parentElement)||void 0===n||n.classList.remove("disabled")):(e.disabled=!0,null===(r=e.parentElement)||void 0===r||r.classList.add("disabled"))}))}},{key:"getUserInput",value:function(){return this.userAns+""}},{key:"displayRightAnswer",value:function(){this.enable(!1)}},{key:"check",value:function(){var t,e=(null===(t=this.widgetConfig)||void 0===t?void 0:t.ans)===this.userAns+"";return this.setStatus(e?A.RIGHT:A.WRONG),this.enable(!e),e}},{key:"connectedCallback",value:function(){var t,e,n,r,o=this;if(this.editMode)this.attoId=this.discoverAttoId();else{this.form=document.createElement("form"),this.form.style.setProperty("display","inline-block");var a=this.dataset.src||"";try{a=atob(a),this.widgetConfig=JSON.parse(a)}catch(t){console.error(t)}if(this.widgetConfig,this.widgetConfig){for(var s=(null===(t=this.widgetConfig)||void 0===t||null===(e=t.vars)||void 0===e?void 0:e.length)||0,u=new Array(s),l=0;l<s;l++)u[l]=l;null!==(n=this.widgetConfig)&&void 0!==n&&null!==(r=n.opts)&&void 0!==r&&r.shuffle&&T(u);var c="i"+Math.random().toString(32).substring(2);u.forEach((function(t){var e,n,r=((null===(e=o.widgetConfig)||void 0===e?void 0:e.vars)||[])[t],i=P("div",{class:"form-check"});null===(n=o.form)||void 0===n||n.append(i);var a=P("input",{class:"form-check-input",type:"radio",name:c,id:c+"_"+t}),s=P("label",{class:"form-check-label",for:c+"_"+t,html:r});i.appendChild(a),i.appendChild(s),o.radios.push(a),a.addEventListener("click",(function(e){o.userAns=t,o.setStatus(A.UNSET)}))})),jt(Ct(i.prototype),"init",this).call(this,this.widgetConfig.pre),this.append(this.form),this.append(this.statusDisplay.getElement()),this.reflowLatex()}}}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"edit",value:function(){var t=document.getElementById(this.attoId||"");if(alert("Editing mchoice at atto "+this.attoId+" "+t),t){var e=Ot(this.getAttribute("data-src"));if(e){this.setAttribute("data-src",e);var n=new Event("updated");null==t||t.dispatchEvent(n)}}}}],r=[{key:"observedAttributes",get:function(){return["data-src"]}}],n&&Et(e.prototype,n),r&&Et(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Q));var It=P("div",{style:"width:100%;padding:10px",html:'\n        Resposta correcta<br>\n        <input id="quizz-numedit-ans" type="text"><br>\n        Precisió <br>\n        <input id="quizz-numedit-precision" type="numeric" min=0><br>\n        Tipus de precisió <br>\n        <select id="quizz-numedit-precisiontype">\n            <option value="relative">Relativa</option>\n            <option value="absolute">Absoluta</option>\n            <option value="%">Percentual</option>\n        </select>\n        <br>\n        <hr>\n        Text abans de l\'element<br>\n        <textarea id="quizz-numedit-pre" rows="2" style="width:98%"></textarea>\n        <br>\n        Feedback de la resposta<br>\n        <textarea id="quizz-numedit-feedback" rows="2" style="width:98%"></textarea>\n        <br>\n    '}),Lt=It.querySelector("#quizz-numedit-ans"),Mt=It.querySelector("#quizz-numedit-precision"),Nt=It.querySelector("#quizz-numedit-precisiontype"),Zt=It.querySelector("#quizz-numedit-pre"),Bt=It.querySelector("#quizz-numedit-feedback");var Ft,Ht=function(t,e){var n,r,o,i;if(t)try{n=JSON.parse(atob(t)),r=n,Lt.value=r.ans||"",Bt.value=r.fbk||"",Zt.value=r.pre||"",Mt.value=((null===(o=r.opts)||void 0===o?void 0:o.err)||0)+"",Nt.value=(null===(i=r.opts)||void 0===i?void 0:i.errunit)||"absolute";var a=tt();a.setBody($(It)),a.show(),a.setAcceptAction((function(){var t={ans:(null==Lt?void 0:Lt.value)||"0",fbk:Bt.value||"",pre:Zt.value||"",opts:{err:parseFloat((null==Mt?void 0:Mt.value)||"0"),errunit:null==Nt?void 0:Nt.value}},n=btoa(JSON.stringify(t));e(n)}))}catch(e){console.error("Error parsing:: ",t),console.error(e)}};function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function Ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ee(r.key),r)}}function $t(){return $t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Wt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},$t.apply(this,arguments)}function Wt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kt(t)););return t}function Qt(t,e){return Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qt(t,e)}function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kt(t);if(e){var o=Kt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(t,e){if(e&&("object"===Jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vt(t)}function Vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(t){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kt(t)}function te(t,e,n){return(e=ee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ee(t){var e=function(t,e){if("object"!==Jt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Jt(e)?e:String(e)}j({elementName:"ib-quizz-numeric",classes:["iedib-quizz-widget"],styles:{display:"inline-block"}})(Ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qt(t,e)}(i,t);var e,n,r,o=Xt(i);function i(){var t;Ut(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return te(Vt(t=o.call.apply(o,[this].concat(n))),"userAns",-1),t}return e=i,r=[{key:"observedAttributes",get:function(){return["data-src"]}}],(n=[{key:"enable",value:function(t){this.input&&(this.input.disabled=!t)}},{key:"getUserInput",value:function(){var t;return(null===(t=this.input)||void 0===t?void 0:t.value)||""}},{key:"displayRightAnswer",value:function(){var t;this.input&&(this.input.value=(null===(t=this.widgetConfig)||void 0===t?void 0:t.ans)||"",this.enable(!1))}},{key:"check",value:function(){var t=!1;try{var e,n=parseFloat(this.getUserInput()),r=parseFloat((null===(e=this.widgetConfig)||void 0===e?void 0:e.ans)||"0");if(isNaN(n)||isNaN(r))return this.setStatus(A.ERROR),!1;var o,i,a,s,u=(null===(o=this.widgetConfig)||void 0===o||null===(i=o.opts)||void 0===i?void 0:i.err)||0,l=(null===(a=this.widgetConfig)||void 0===a||null===(s=a.opts)||void 0===s?void 0:s.errunit)||"absolute";"%"===l&&(u*=.01),0===r&&(l="absolute"),t="absolute"===l?Math.abs(n-r)<=u:Math.abs(n/r-1)<=u}catch(t){return this.setStatus(A.ERROR),!1}return this.setStatus(t?A.RIGHT:A.WRONG),this.getUserInput(),this.enable(!t),t}},{key:"connectedCallback",value:function(){var t=this;if(this.editMode)this.attoId=this.discoverAttoId();else{this.input=P("input",{class:"form-control",type:"number",style:"display:inline-block;width:100px;"}),this.input.addEventListener("change",(function(e){t.setStatus(A.UNSET)}));var e=this.dataset.src||"";try{e=atob(e),this.widgetConfig=JSON.parse(e)}catch(t){console.error(t)}this.widgetConfig,this.widgetConfig&&($t(Kt(i.prototype),"init",this).call(this,this.widgetConfig.pre),this.append(this.input),this.append(this.statusDisplay.getElement()),this.reflowLatex())}}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"edit",value:function(){var t=this,e=document.getElementById(this.attoId||"");alert("Editing numeric at atto "+this.attoId+" "+e),e&&Ht(this.getAttribute("data-src"),(function(n){if(n){t.setAttribute("data-src",n);var r=new Event("updated");null==e||e.dispatchEvent(r)}}))}}])&&Gt(e.prototype,n),r&&Gt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Q))}()}();