/*! For license information please see zoom.min.js.LICENSE.txt */
!function(){var e={270:function(){var e,t;window.wheelzoom=(e={zoom:.03,maxZoom:10,initialZoom:1,initialX:.5,initialY:.5},t=function(t,n){if(t&&t.nodeName&&"IMG"===t.nodeName){var o,r,i,a,u,c,l,s,f,m={},d=function(e){t.removeEventListener("wheelzoom.destroy",d),t.removeEventListener("wheelzoom.reset",y),t.removeEventListener("load",h),t.removeEventListener("mouseup",w),t.removeEventListener("mousemove",b),t.removeEventListener("mousedown",g),t.removeEventListener("wheel",v),null!=f&&f.unobserve(t),t.style.backgroundImage=e.backgroundImage,t.style.backgroundRepeat=e.backgroundRepeat,t.src=e.src,t.style.cursor="default"}.bind(null,{backgroundImage:t.style.backgroundImage,backgroundRepeat:t.style.backgroundRepeat,src:t.src});t.addEventListener("wheelzoom.destroy",d),n=n||{},Object.keys(e).forEach((function(t){m[t]=void 0!==n[t]?n[t]:e[t]})),t.complete&&h(),t.addEventListener("load",h),null!=window.ResizeObserver&&(f=new ResizeObserver((function(){if(t.src==s){var e=Math.max(m.initialZoom,1),n=window.getComputedStyle(t,null);o=parseInt(n.width,10),r=parseInt(n.height,10),a=r*e,u=-((i=o*e)-o)*m.initialX,c=-(a-r)*m.initialY,t.style.backgroundSize=i+"px "+a+"px",t.style.backgroundPosition=u+"px "+c+"px"}}))).observe(t)}function p(){u>0?u=0:u<o-i&&(u=o-i),c>0?c=0:c<r-a&&(c=r-a),t.style.backgroundSize=i+"px "+a+"px",t.style.backgroundPosition=u+"px "+c+"px"}function y(){i=o,a=r,u=c=0,p()}function v(e){var n=0;e.preventDefault(),e.deltaY?n=e.deltaY:e.wheelDelta&&(n=-e.wheelDelta);var l=t.getBoundingClientRect(),s=e.pageX-l.left-window.pageXOffset,f=e.pageY-l.top-window.pageYOffset,d=(s-u)/i,v=(f-c)/a;n<0?(i+=i*m.zoom,a+=a*m.zoom):(i-=i*m.zoom,a-=a*m.zoom),m.maxZoom&&(i=Math.min(o*m.maxZoom,i),a=Math.min(r*m.maxZoom,a)),u=s-i*d,c=f-a*v,i<=o||a<=r?y():p()}function b(e){e.preventDefault(),u+=e.pageX-l.pageX,c+=e.pageY-l.pageY,l=e,p()}function w(){document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",b)}function g(e){e.preventDefault(),l=e,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w)}function h(){var e=Math.max(m.initialZoom,1);if(t.src!==s){var n=window.getComputedStyle(t,null);o=parseInt(n.width,10),r=parseInt(n.height,10),a=r*e,u=-((i=o*e)-o)*m.initialX,c=-(a-r)*m.initialY,function(e){e.style.backgroundRepeat="no-repeat",e.style.backgroundImage='url("'+e.src+'")',s="data:image/svg+xml;base64,"+window.btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+e.naturalWidth+'" height="'+e.naturalHeight+'"></svg>'),e.src=s}(t),t.style.backgroundSize=i+"px "+a+"px",t.style.backgroundPosition=u+"px "+c+"px",t.style.cursor="nesw-resize",t.addEventListener("wheelzoom.reset",y),t.addEventListener("wheel",v),t.addEventListener("mousedown",g)}}},"function"!=typeof window.btoa?function(e){return e}:function(e,n){return e&&e.length?Array.prototype.forEach.call(e,(function(e){t(e,n)})):e&&e.nodeName&&t(e,n),e})}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}!function(){"use strict";function e(t,n){n=n||0,window.require&&"function"==typeof window.require?t():n>15?console.error("ERROR: Cannot find requirejs"):window.setTimeout((function(){e(t,n+1)}),500)}function t(e){console.log("_boostrap"),e.forEach((function(e){console.log(e);var t=window.IB,n=e.meta;t.sd[n.name]&&console.error("Warning: "+n.name+" loaded twice."),t.sd[n.name]=t.sd[n.name]||{inst:{},_class:e};var o=n.query||'div[role="snptd_'.concat(n.name,'"], div[data-snptd="').concat(n.name,'"]');console.log(o);var r=function(e){return document.querySelectorAll(e)}(o);console.log(r),r.forEach((function(t){var o=t.getAttribute("id");o||(o="sd_"+Math.random().toString(32).substring(2),t.setAttribute("id",o));var r=new e(t);r.init(),window.IB.sd[n.name][o]=r}))}))}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,f(o.key),o)}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}n(270);var m,d,p,y,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(o);if(r){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).allImgs=[],t}return t=a,(n=[{key:"initImage",value:function(e){this.allImgs.push(e),e.style.maxWidth="98%","1"!==e.dataset.active&&(e.dataset.active="1",window.wheelzoom(e))}},{key:"init",value:function(){var e=this;window.setTimeout((function(){"IMG"===e.parent.nodeName?e.initImage(e.parent):e.parent.querySelectorAll("img").forEach((function(t){return e.initImage(t)}))}),600)}},{key:"dispose",value:function(){this.allImgs.forEach((function(e){e.dispatchEvent(new Event("wheelzoom.destroy")),e.removeAttribute("data-active")}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t})));m=v,p={name:"zoom",author:"Josep Mulet Pol",version:"2.0",use$:!0,query:'[role="snptd_zoom"], [data-snptd="zoom"]'},(d=f(d="meta"))in m?Object.defineProperty(m,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[d]=p,y=v,window.IB=window.IB||{sd:{}},Array.isArray(y)||(y=[y]),y.map((function(e){return e.meta.use$||!1})).reduce((function(e,t){return t&&e}))?e((function(){console.log("Require ready"),requirejs(["jquery"],(function(e){console.log("jquery ready",e),e((function(){console.log("Page ready"),t(y)}))}))}),15):t(y)}()}();