!function(){"use strict";function e(t,n,o,r){r=r||0;var i=window;if(!i[t]||"function"!=typeof i[t])return r>15?(console.error("ERROR: Cannot find requirejs"),void(o&&o())):void window.setTimeout((function(){e(t,n,o,r+1)}),50*(r+1));n&&n()}function t(t,n,o){e("jQuery",t,n,o)}function n(n){e("require",(function(){window.require(["jquery"],(function(){$(n)}),(function(){t((function(){$(n)}),(function(){return n()}),15)}))}),(function(){t((function(){$(n)}),(function(){return n()}),15)}),10)}function o(e,t){if(e&&"number"==typeof e)return e;if(!e||!(e+"").trim())return t;try{var n=parseInt(e+"");if(!isNaN(n))return n}catch(e){}return t}function r(e){e.forEach((function(e){var t=window.IB;if(e.meta){var n=e.meta;if(t.sd[n.name]&&"function"==typeof t.sd[n.name].init)return console.error("Warning: component '".concat(n.name,"' loaded twice.")),void t.sd[n.name].init();!function o(){t.sd[n.name]=t.sd[n.name]||{inst:{},_class:e,init:o,dispose:null};var r=n.query||'div[role="snptd_'.concat(n.name,'"], div[data-snptd="').concat(n.name,'"]');if("body"===r){if(t.sd[n.name].singl)return void console.error("Singleton already defined");var i=document.querySelector("body"),a=new e(i);a.init(),t.sd[n.name].singl=a,"_init: Initialized singleton '".concat(n.name,"' instance.")}else{var u=function(e){return document.querySelectorAll(e)}(r),c=0;u.forEach((function(o){var r=o,i=r.getAttribute("id");if(i||(i="sd_"+Math.random().toString(32).substring(2),r.setAttribute("id",i)),"1"!==r.dataset.active){var a=new e(r);a.init(),null!=t.sd[n.name].inst&&(t.sd[n.name].inst[i]=a),c++}else console.warn("Warning: Element '".concat(n.name,"' ").concat(i," already processed."))})),"_init: Initialized ".concat(c," '").concat(n.name,"' instances.")}}();t.sd[n.name].dispose=function(){var e=0;window.IB&&window.IB.sd&&window.IB.sd[n.name]&&window.IB.sd[n.name].inst&&(Object.keys(window.IB.sd[n.name].inst).forEach((function(o){var r=window.IB.sd[n.name].inst[o];r&&(r.dispose(),e++,delete t.sd[n.name].inst[o])})),"_dispose: Destroyed ".concat(e," '").concat(n.name,"' instances."))}}else console.error("Missing meta in class ",e,". Annotate it with @Component")}))}var i=function(e){window.IB=window.IB||{sd:{}};var t=e;t.map((function(e){var t;return(null===(t=e.meta)||void 0===t?void 0:t.use$)||!1})).reduce((function(e,t){return t||e}))?n((function(){var e;"function"==typeof(null===(e=window.IB)||void 0===e?void 0:e.on$Ready)&&window.IB.on$Ready(),r(t)})):r(t)};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===a(i)?i:String(i)),o)}var r,i}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=c((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t}));var l={name:"",author:"",version:"1.0",use$:!1};var f,d,m,p=(f={zoom:.03,maxZoom:10,initialZoom:1,initialX:.5,initialY:.5},d=function(e,t){if(e&&e.nodeName&&"IMG"===e.nodeName){var n,o,r,i,a,u,c,s,l,d={},m=function(t){e.removeEventListener("wheelzoom.destroy",m),e.removeEventListener("wheelzoom.reset",v),e.removeEventListener("load",h),e.removeEventListener("mouseup",w),e.removeEventListener("mousemove",b),e.removeEventListener("mousedown",g),e.removeEventListener("wheel",y),null!=l&&l.unobserve(e),e.style.backgroundImage=t.backgroundImage,e.style.backgroundRepeat=t.backgroundRepeat,e.src=t.src,e.style.cursor="default"}.bind(null,{backgroundImage:e.style.backgroundImage,backgroundRepeat:e.style.backgroundRepeat,src:e.src});e.addEventListener("wheelzoom.destroy",m),t=t||{},Object.keys(f).forEach((function(e){d[e]=void 0!==t[e]?t[e]:f[e]})),e.complete&&h(),e.addEventListener("load",h),null!=window.ResizeObserver&&(l=new ResizeObserver((function(){if(e.src==s){var t=Math.max(d.initialZoom,1),c=window.getComputedStyle(e,null);n=parseInt(c.width,10),o=parseInt(c.height,10),i=o*t,a=-((r=n*t)-n)*d.initialX,u=-(i-o)*d.initialY,e.style.backgroundSize=r+"px "+i+"px",e.style.backgroundPosition=a+"px "+u+"px"}}))).observe(e)}function p(){a>0?a=0:a<n-r&&(a=n-r),u>0?u=0:u<o-i&&(u=o-i),e.style.backgroundSize=r+"px "+i+"px",e.style.backgroundPosition=a+"px "+u+"px"}function v(){r=n,i=o,a=u=0,p()}function y(t){var c=0;t.preventDefault(),t.deltaY?c=t.deltaY:t.wheelDelta&&(c=-t.wheelDelta);var s=e.getBoundingClientRect(),l=t.pageX-s.left-window.pageXOffset,f=t.pageY-s.top-window.pageYOffset,m=(l-a)/r,y=(f-u)/i;c<0?(r+=r*d.zoom,i+=i*d.zoom):(r-=r*d.zoom,i-=i*d.zoom),d.maxZoom&&(r=Math.min(n*d.maxZoom,r),i=Math.min(o*d.maxZoom,i)),a=l-r*m,u=f-i*y,r<=n||i<=o?v():p()}function b(e){e.preventDefault(),a+=e.pageX-c.pageX,u+=e.pageY-c.pageY,c=e,p()}function w(){document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",b)}function g(e){e.preventDefault(),c=e,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w)}function h(){var t=Math.max(d.initialZoom,1);if(e.src!==s){var c=window.getComputedStyle(e,null);n=parseInt(c.width,10),o=parseInt(c.height,10),i=o*t,a=-((r=n*t)-n)*d.initialX,u=-(i-o)*d.initialY,function(e){e.style.backgroundRepeat="no-repeat",e.style.backgroundImage='url("'+e.src+'")',s="data:image/svg+xml;base64,"+window.btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+e.naturalWidth+'" height="'+e.naturalHeight+'"></svg>'),e.src=s}(e),e.style.backgroundSize=r+"px "+i+"px",e.style.backgroundPosition=a+"px "+u+"px",e.style.cursor="nesw-resize",e.addEventListener("wheelzoom.reset",v),e.addEventListener("wheel",y),e.addEventListener("mousedown",g)}}},function(e,t){"function"==typeof window.btoa&&d(e,t)});function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==v(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===v(i)?i:String(i)),o)}var r,i}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var E,I;i([(E={name:"zoom",author:"Josep Mulet Pol",version:"2.0"},(I=Object.assign({},l,E)).query||(I.query='[role="snptd_'.concat(I.name,'"],[data-snptd="').concat(I.name,'"]')),function(e){e.meta=I}(m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,i=w(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).allImgs=[],t}return t=a,(n=[{key:"initImage",value:function(e,t){this.allImgs.push(e),e.style.maxWidth="98%","1"!==e.dataset.active&&(e.dataset.active="1",p(e,t))}},{key:"init",value:function(){var e=this,t=this.parent.dataset;if("1"!==t.active){t.active="1";var n={maxZoom:o(t.maxzoom,10)};window.setTimeout((function(){"IMG"===e.parent.nodeName?e.initImage(e.parent,n):e.parent.querySelectorAll("img").forEach((function(t){return e.initImage(t,n)}))}),600)}}},{key:"dispose",value:function(){"1"===this.parent.dataset.active&&(this.parent.removeAttribute("data-active"),this.allImgs.forEach((function(e){e.dispatchEvent(new Event("wheelzoom.destroy")),e.removeAttribute("data-active")})))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(s))||m)])}();