!function(){var e=function(e,t){e=(e||"").toLowerCase();for(var n=0,r=null,i=(t||[]).length;i>n&&null==r;)t[n].lang.toLowerCase()==e&&(r=t[n]),n++;return r},t=function(t){for(var r=0,s=i.length;s>r;r++){var a=t[r],l=a.getAttribute("href").split("_")[1];a.title="Speak!";var o=speechSynthesis.getVoices(),c=e(l,o);c?(a.classList.add("sd-speak-enabled"),a.addEventListener("click",function(t){t.preventDefault();var r=t.target,i=r.getAttribute("href").split("_")[1],s=new SpeechSynthesisUtterance(r.innerText);s.voice=e(i,o),n.speak(s)})):a.removeAttribute("href")}},n=window.speechSynthesis,r=null!=n&&null!=window.SpeechSynthesisUtterance,i=document.querySelectorAll('a[href^="#speak_"]');if(r)(n.getVoices()||[]).length?t(i):n.addEventListener("voiceschanged",function(){t(i)});else for(var s=0,a=i.length;a>s;s++)i[s].removeAttribute("href")}();