window.IB = window.IB || {}; window.IB.sd = window.IB.sd || {}; window.wheelzoom=function(){var e={zoom:.03,maxZoom:10,initialZoom:1,initialX:.5,initialY:.5},t=function(t,n){function o(e){e.style.backgroundRepeat="no-repeat",e.style.backgroundImage='url("'+e.src+'")',h="data:image/svg+xml;base64,"+window.btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+e.naturalWidth+'" height="'+e.naturalHeight+'"></svg>'),e.src=h}function a(){w>0?w=0:l-v>w&&(w=l-v),p>0?p=0:c-g>p&&(p=c-g),t.style.backgroundSize=v+"px "+g+"px",t.style.backgroundPosition=w+"px "+p+"px"}function i(){v=l,g=c,w=p=0,a()}function r(e){var n=0;e.preventDefault(),e.deltaY?n=e.deltaY:e.wheelDelta&&(n=-e.wheelDelta);var o=t.getBoundingClientRect(),r=e.pageX-o.left-window.pageXOffset,d=e.pageY-o.top-window.pageYOffset,s=r-w,m=d-p,u=s/v,f=m/g;0>n?(v+=v*b.zoom,g+=g*b.zoom):(v-=v*b.zoom,g-=g*b.zoom),b.maxZoom&&(v=Math.min(l*b.maxZoom,v),g=Math.min(c*b.maxZoom,g)),w=r-v*u,p=d-g*f,l>=v||c>=g?i():a()}function d(e){e.preventDefault(),w+=e.pageX-f.pageX,p+=e.pageY-f.pageY,f=e,a()}function s(){document.removeEventListener("mouseup",s),document.removeEventListener("mousemove",d)}function m(e){e.preventDefault(),f=e,document.addEventListener("mousemove",d),document.addEventListener("mouseup",s)}function u(){var e=Math.max(b.initialZoom,1);if(t.src!==h){var n=window.getComputedStyle(t,null);l=parseInt(n.width,10),c=parseInt(n.height,10),v=l*e,g=c*e,w=-(v-l)*b.initialX,p=-(g-c)*b.initialY,o(t),t.style.backgroundSize=v+"px "+g+"px",t.style.backgroundPosition=w+"px "+p+"px",t.addEventListener("wheelzoom.reset",i),t.addEventListener("wheel",r),t.addEventListener("mousedown",m)}}if(t&&t.nodeName&&"IMG"===t.nodeName){var l,c,v,g,w,p,f,h,b={},y=function(e){t.removeEventListener("wheelzoom.destroy",y),t.removeEventListener("wheelzoom.reset",i),t.removeEventListener("load",u),t.removeEventListener("mouseup",s),t.removeEventListener("mousemove",d),t.removeEventListener("mousedown",m),t.removeEventListener("wheel",r),t.style.backgroundImage=e.backgroundImage,t.style.backgroundRepeat=e.backgroundRepeat,t.src=e.src}.bind(null,{backgroundImage:t.style.backgroundImage,backgroundRepeat:t.style.backgroundRepeat,src:t.src});t.addEventListener("wheelzoom.destroy",y),n=n||{},Object.keys(e).forEach(function(t){b[t]=void 0!==n[t]?n[t]:e[t]}),t.complete&&u(),t.addEventListener("load",u)}};return"function"!=typeof window.btoa?function(e){return e}:function(e,n){return e&&e.length?Array.prototype.forEach.call(e,function(e){t(e,n)}):e&&e.nodeName&&t(e,n),e}}(),function(){var e="dynamic_zoom";if(window.IB.sd[e])return console.error("Warning: "+e+" loaded twice."),void(window.IB.sd[e].bind&&window.IB.sd[e].bind());var t={inst:{}};window.IB.sd[e]=t;var n=function(){for(var t=document.querySelectorAll("img.zoom"),n=0,o=t.length;o>n;n++){var a=t[n];if(!a.dataset.active){a.dataset.active="1",wheelzoom(a);var i=elem.getAttribute("id");i||(i="sd_"+Math.random().toString(32).substring(2),elem.setAttribute("id",i)),window.IB.sd[e].inst[i]=elem}}};t.unbind=function(){for(var e=Object.values(t.inst),n=0,o=lInts.length;o>n;n++)e[n].dispatchEvent(new Event("wheelzoom.destroy")),e[n].removeAttribute("data-active");t.inst={}},t.bind=n,n()}();