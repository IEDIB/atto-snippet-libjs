
    window.IB = window.IB || {}; window.IB.sd = window.IB.sd || {}; 
    !function(){if(document.getElementById("sd_css_all")){return;}; var l = '  .iedib-rwrap {   text-align: right;   font-size: 0; } .iedib-ctx {   display: inline-block;   border-top-left-radius: 50%;   border-bottom-left-radius: 50%;   color: rgb(241, 245, 254);   margin: 0;   padding: 4px;   font-size: 11px; } .iedib-time {   display: inline-block;   margin: 0px;   padding: 5px;   border-bottom-right-radius: 5px;   border-top-right-radius: 5px;   background: rgb(241, 245, 254);   color: rgb(31, 106, 219);   font-size: 12px;   cursor: help; } .iedib-time>span {   font-weight: bold; } .b-tooltip {   border: 3px solid #fff;   display: inline-block;   font-size: .875em;   padding: .75em;   position: absolute;   text-align: center } .b-tooltip-light {   background: #eaeaea;   background: linear-gradient(to bottom, #fdfdfd 0%, #eaeaea 100%);   box-shadow: 0px 0px 6px 2px rgba(110, 110, 110, 0.4);   color: #242424 } .b-tooltip-dark {   background: #242424;   background: linear-gradient(to bottom, #6e6e6e 0%, #242424 100%);   box-shadow: 0px 0px 6px 2px #6e6e6e;   color: #fff }  .modal-fullscreen-xl .modal-header {   padding: 0rem 1rem; } .modal-fullscreen-xl .modal-dialog {   width: 98%;   height: 98%;   max-width: none;   margin: auto; } .modal-fullscreen-xl .modal-content {   height: 100%;   border: 0;   border-radius: 0;   background: rgba(0,0,0,0); } .modal-fullscreen-xl .modal-body {   width: 100%;   overflow: auto;   background: rgba(0,0,0,0); } .left-arrow, .right-arrow {   font-size: 300%;   color: whitesmoke; } div[role="presentacio"] {  margin: auto;  border-radius: 5px;  border: 1px solid gray;  width: 600px; }  .box_continguts {  padding-top: 20px;  padding-left: 20px;  padding-right: 20px;  font-size: 20px;  height: 250px;  background-color: powderblue; } .box_botons {  padding-left: 20px;  padding-top: 10px;  font-size: 20px;  height: 50px;  background-color: powderblue; } .sd-speak-enabled {   position: relative;   background: whitesmoke;   text-decoration: none;   }  @keyframes speakicon_anim {   0% {    opacity: 0;    left: -10px;   }   100% {    opacity: 1;    left: -5px;   }  }  .sd-speak-enabled:hover:after {   content: "\\f0a1";   position: absolute;   left: -5px;   top: -16px;   background: white;   z-index:1000;   font-family: "Font Awesome\\ 5 Pro";   font-size: 70%;   margin: 0px 5px;   font-weight: 700;   vertical-align:top;   animation: speakicon_anim 1s ease;  }'; var s = document.createElement('style'); s.type = 'text/css'; s.innerHTML = l; s.id="sd_css_all"; document.getElementsByTagName('head')[0].appendChild(s);}();
    !function(){var e=110,t=1.1,i=1,n=10,r=5,a="dedicacio";if(window.IB.sd[a])return console.error("Warning: "+a+" loaded twice."),void(window.IB.sd[a].bind&&window.IB.sd[a].bind());var o=function(e){var t=e.querySelector("span");if(t){var i=t.innerText.trim();this.container=e,this.aSpan=t,i||this.estimate()}};o.prototype={estimate:function(){if(this.aSpan){var a=document.querySelector("div.no-overflow"),o=a.innerText.replace(/\s+/g," ").split(" "),s=o.length,l=0;s>0&&(l=s/e);var d=a.querySelectorAll("img").length;l+=d*t;var c=a.querySelectorAll("table.iedib-table").length;l+=c*i;var v=a.querySelectorAll(".iedib-video-container").length;l+=v*n;var u=a.querySelector(".iedib-proposat");if(u){var h=3;l+=h*r}var p="";if(l>60){var f=Math.floor(l/60),w=l-60*f;w=10*Math.floor(w/10),w>0&&(p+=f+" h "+w+" min")}else l=5*Math.round(l/5),p=l+" min";5>l?this.container.parentElement.style.display="none":this.aSpan.innerText=p,console.error("words=",s," imatges=",d," taules=",c," videos=",v," proposats=",u,"Total (min)=",l)}},dispose:function(){this.container.dataset.active="",this.aSpan&&(this.aSpan.innerHTML="")}};var s={author:"Josep Mulet",version:"1.0",inst:{}};window.IB.sd[a]=s;var l=function(){for(var e=document.querySelectorAll('[role="'+a+'"]'),t=0,i=e.length;i>t;t++){var n=e[t];if(!n.dataset.active){n.dataset.active="1";var r=new o(n),s=n.getAttribute("id");s||(s="dynamic_"+Math.random().toString(32).substring(2),n.id=s),window.IB.sd[a].inst[s]=r}}};s.bind=l,s.unbind=function(){for(var e=Object.values(s.inst),t=0,i=e.length;i>t;t++)e[t].dispose();s.inst={}},l()}();
!function(){var t=function(t){function e(t,e,o,i){var r,a,s=t.getBoundingClientRect();switch(console.log(i),o){case"left":r=parseInt(s.left)-n-e.offsetWidth,parseInt(s.left)-e.offsetWidth<0&&(r=n);break;case"right":r=s.right+n,parseInt(s.right)+e.offsetWidth>document.documentElement.clientWidth&&(r=document.documentElement.clientWidth-e.offsetWidth-n);break;default:case"center":r=parseInt(s.left)+(t.offsetWidth-e.offsetWidth)/2}switch(i){case"center":a=(parseInt(s.top)+parseInt(s.bottom))/2-e.offsetHeight/2;break;case"bottom":a=parseInt(s.bottom)+n;break;default:case"top":a=parseInt(s.top)-e.offsetHeight-n}r=0>r?parseInt(s.left):r,a=0>a?parseInt(s.bottom)+n:a,e.style.left=r+"px",e.style.top=a+pageYOffset+"px"}var o=t.theme||"dark",i=t.delay||0,n=t.distance||10;document.body.addEventListener("mouseover",function(t){if("globus"==t.target.getAttribute("role")){var i=document.createElement("div");i.className="b-tooltip b-tooltip-"+o,i.innerHTML=t.target.getAttribute("data-original-title"),document.body.appendChild(i);var n=t.target.getAttribute("data-position")||"center top",r=n.split(" ")[0];posVertical=n.split(" ")[1],e(t.target,i,r,posVertical)}}),document.body.addEventListener("mouseout",function(t){"globus"==t.target.getAttribute("role")&&setTimeout(function(){document.body.removeChild(document.querySelector(".b-tooltip"))},i)})},e="globus";if(window.IB.sd[e])return console.error("Warning: "+e+" loaded twice."),void(window.IB.sd[e].bind&&window.IB.sd[e].bind());var o=function(e){e.addEventListener("click",function(t){t.preventDefault()});var o=e.dataset;o.dataset;o.originalTitle=e.getAttribute("title"),e.removeAttribute("title"),this.tooltip=new t({theme:"light",delay:10})};o.prototype.dispose=function(){};var i={author:"Josep Mulet Pol",version:"1.0",inst:{}};window.IB.sd[e]=i;var n=function(){for(var t=document.querySelectorAll('[role="'+e+'"]'),i=0,n=t.length;n>i;i++){var r=t[i];if(!r.dataset.active){r.dataset.active="1";var a=new o(r),s=r.getAttribute("id");s||(s="dynamic_"+Math.random().toString(32).substring(2),r.id=s),window.IB.sd[e].inst[s]=a}}};i.bind=n,i.unbind=function(){for(var t=Object.values(i.inst),e=0,o=t.length;o>e;e++)t[e].dispose();i.inst={}},n()}();
!function(){"use strict";var t="<span>&#10094;</span>",i="<span>&#10095;</span>",n="lightbox";if(window.IB.sd[n])return console.error("Warning: "+n+" loaded twice."),void(window.IB.sd[n].bind&&window.IB.sd[n].bind());var e=function(t){this.$gallery=$('[role="snptd_lightbox"]'),this.currentIndex=-1,$.each(this.$gallery,function(i,n){return n.id==t.id?(self.currentIndex=i,!1):void 0}),this._setup(t)};e.prototype._setup=function(t){var i=this;this.id="snptModal_lightbox",this.$container=$(t),this.$container.css("cursor","pointer"),this.$container.attr("data-toggle","modal"),this.$container.attr("data-target","#"+this.id),this.$modal=$("#"+this.id),this.$modal.length?this.$img=this.$modal.find("img"):this.createModal(),this.$container.off(),this.$container.on("click",function(t){if(i.$img.length){var n=new Image,e=i.$container.attr("data-src")||i.$container.attr("src");n.onload=function(){i._resize(n.width,n.height),i.$img.attr("src",e)},n.onerror=function(t){console.error("Cannot load image ",t),i.$img.attr("src","")},n.src=e}})},e.prototype.createModal=function(){var n=this,e=this.$gallery.length>1,s='<a class="left-arrow" href="#">'+t+"</a>",a='<a class="right-arrow" href="#">'+i+"</a>",o=$('<div class="modal fade modal-fullscreen-xl" id="'+this.id+'" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header bg-dark border-dark"><button type="button" class="close text-white" data-dismiss="modal">&times;</button></div><div class="modal-body p-0" style="text-align:center;">'+(e?s:"")+'<img src="">'+(e?a:"")+"</div></div></div></div>");this.$modal=$(o),this.$img=this.$modal.find("img"),this.$close=this.$modal.find("button"),$("body").append(this.$modal),this.$modal.on("hide.bs.modal",function(){n.$img.attr("src","")}),$("#modalCloseBtn").on("click",function(){n.$img.attr("src","")}),e&&(this.$modal.find(".left-arrow").on("click",function(t){t.preventDefault(),n._navigateLeft()}),this.$modal.find(".right-arrow").on("click",function(t){t.preventDefault(),n._navigateRight()}))},e.prototype._resize=function(t,i){var n=1;i>0&&(n=t/i);var e=$(window).height(),s=$(window).width(),a=1;s>0&&(a=e/s),n>a?(this.$img.css("width","initial"),this.$img.css("height","100%")):(this.$img.css("height","initial"),this.$img.css("width","100%"))},e.prototype._navigateLeft=function(){0==this.currentIndex?this.currentIndex=this.$gallery.length-1:this.currentIndex-=1,this._setup(this.$gallery[this.currentIndex])},e.prototype._navigateRight=function(){this.currentIndex==this.$gallery.length-1?this.currentIndex=0:this.currentIndex+=1,this._setup(this.$gallery[this.currentIndex])},e.prototype.dispose=function(){this.$container.off()};var s={author:"Josep Mulet",version:"1.0",inst:{}};window.IB.sd[n]=s;var a=function(){for(var t=document.querySelectorAll('[role="snptd_'+n+'"]'),i=0,s=t.length;s>i;i++){var a=t[i];if(!a.dataset.active){a.dataset.active="1";var o=new e(a),r=a.getAttribute("id");r||(r="dynamic_"+Math.random().toString(32).substring(2),a.id=r),window.IB.sd[n].inst[r]=o}}};s.bind=a,s.unbind=function(){for(var t=Object.values(s.inst),i=0,n=t.length;n>i;i++)t[i].dispose();s.inst={}},a()}();
$(function(){var a={},e=' .pw-laser-nw{position:relative;}\n .pw-laser-nw::after{content:"";position:absolute;left:0;top:0;width:10px;height:10px;border-radius:50%;background:rgba(255,0,0,0.6);box-shadow: 0 0 5px 3px red;}\n ';e+=' .pw-laser-ne{position:relative;}\n .pw-laser-ne::after{content:"";position:absolute;right:0;top:0;width:10px;height:10px;border-radius:50%;background:rgba(255,0,0,0.6);box-shadow: 0 0 5px 3px red;}\n ',e+=' .pw-laser-sw{position:relative;}\n .pw-laser-sw::after{content:"";position:absolute;left:0;bottom:0;width:10px;height:10px;border-radius:50%;background:rgba(255,0,0,0.6);box-shadow: 0 0 5px 3px red;} \n',e+=' .pw-laser-se{position:relative;}\n .pw-laser-se::after{content:"";position:absolute;right:0;bottom:0;width:10px;height:10px;border-radius:50%;background:rgba(255,0,0,0.6);box-shadow: 0 0 5px 3px red;}\n ',e+=' .pw-laser-md{position:relative;}\n .pw-laser-md::after{content:"";position:absolute;left:50%;bottom:50%;width:10px;height:10px;border-radius:50%;background:rgba(255,0,0,0.6);box-shadow: 0 0 5px 3px red;}\n ',e+=" .audible-media-player{max-width:600px;padding:6px;border-radius:7px;display:flex;margin:auto;margin-bottom:15px;}\n ",e+="  \n .audible-frog span, .audible-frog button{color: #4f6e46;}\n .audible-sky{background:rgb(241,245,254);}\n .audible-frog{background:#e6ede6;}\n .audible-sky span, .audible-sky button{color:rgb(31,106,219);} \n ",e+=" .pw-audible-btn{background: none; border: none; color: #4f6e46; margin: 0 5px;} \n",e+=" .pw-pen-yellow{-webkit-box-shadow: #FFF 0 -1px 4px, #ff0 0 -2px 10px, 5px 5px 15px 5px rgba(0,0,0,0);box-shadow: #FFF 0 -1px 4px, #ff0 0 -2px 10px, 5px 5px 15px 5px rgba(0,0,0,0);background: rgb(255,255,193,0.5);} \n ",e+=" .pw-pen-green{-webkit-box-shadow: #FFF 0 -1px 4px, #3f3 0 -2px 10px, 5px 5px 15px 5px rgba(0,0,0,0);box-shadow: #FFF 0 -1px 4px, #3f3 0 -2px 10px, 5px 5px 15px 5px rgba(0,0,0,0);background: rgb(193,255,200,0.5);}\n ",e+=" .pw-pen-red{-webkit-box-shadow: #FFF 0 -1px 4px, #f33 0 -2px 10px, 5px 5px 15px 5px rgba(0,0,0,0);box-shadow: #FFF 0 -1px 4px, #f33 0 -2px 10px, 5px 5px 15px 5px rgba(0,0,0,0);background: rgb(255,193,193,0.5);} \n ",e+="  @media print{.audible-media-player{display:none;} }\n";var n=function(a,e){if(!e||!document.getElementById(e)){var n=document.createElement("style");n.type="text/css",n.innerHTML=a,e&&(n.id=e),document.getElementsByTagName("head")[0].appendChild(n)}};n(e,"audible_css"),$.fn.snpt_overlaypen=function(a){this.old_display||(this.old_display=this.css("display")),this.old_position||(this.old_position=this.css("position")),this.css({position:"relative",display:"inline-block"});for(var e=$.extend({width:"15px",height:"60%",background:"orange",opacity:"0.37","z-index":"100","border-radius":"20%"},a),n=Object.keys(e),t=[],r=0,s=n.length;s>r;r++){var o=n[r];t.push(o+":"+e[o])}var p=$('<div class="pw-overlaypen" style="position:absolute;'+t.join(";")+'"></div>');return this.append(p),this},$.fn.snpt_erasepen=function(){this.css({position:this.old_position,display:this.old_display}),this.find(".pw-overlaypen").remove()},$.fn.snpt_player=function(e){if(!window.Audio)return console.error("No HTML5 Audio support"),this;var n=$.extend({id:"p"+Math.random().toString(32).substring(2),src:[],skin:"frog",css:""},e),t="";n.css&&(t='style="'+n.css+'"');var r=!1,s=new Audio;s.id=n.id,a[n.id]=s;var o=$('<button class="pw-audible-btn" style="background: none; border: none; margin: 0 5px;" id="'+n.id+'_stop"><i class="fas fa-sync"></i></button>'),p=$('<input type="range" value="0" min="0" max="100" style="margin-left:5px;flex-grow:96;"/>'),i=$('<span style="margin-left:5px;font-family:arial;">00:00</span>'),d=$('<button style="background: none; border: none; margin: 0 5px;" class="pw-audible-btn"><i class="fas fa-play"></i></button>'),l=$('<div class="audible-media-player audible-'+n.skin+'" '+t+' id="pwmplayer_'+n.id+'" title="AudioPlayer by Josep Mulet"></div>');$.each(n.src,function(a,e){var t=$('<source id="'+n.id+"_src"+a+'" src="'+e+'"></source>');$(s).append(t)}),s.load(),s.addEventListener("loadeddata",function(){var a=s.duration;o.on("click",function(a){s.pause(),$(d).html('<i class="fas fa-play"></i>'),s.currentTime=0,i.html("00:00"),p.val(0),n.onStop&&n.onStop()}),d.on("click",function(a){s.stopped=!1,s.paused?(s.play(),$(d).html('<i class="fas fa-pause"></i>')):(s.pause(),$(d).html('<i class="fas fa-play"></i>'))}),s.addEventListener("timeupdate",function(e){var t=e.target;if(!r){var s=Math.floor(t.currentTime),o=Math.floor(s/60)+"",d=s-60*o+"";o.length<2&&(o="0"+o),d.length<2&&(d="0"+d),i.html(o+":"+d);var l=Math.round(100*s/a);p.val(l),n.onTimeupdate&&n.onTimeupdate(t.currentTime)}}),s.addEventListener("ended",function(a){var e=$(a.target);e.val(100),$(d).html('<i class="fas fa-play"></i>'),i.html("00:00"),p.val(0),s.stopped=!0,s.currentTime=0}),p.on("mousedown",function(a){r=!0}),p.on("mouseup",function(a){r=!1}),p.on("change",function(e){var n=e.target,t=Math.floor(.01*$(n).val()*a),r=Math.floor(t/60)+"",o=t-60*r+"";r.length<2&&(r="0"+r),o.length<2&&(o="0"+o),i.html(r+":"+o),0==t&&i.html("00:00"),s.currentTime=t}),l.append(d),l.append(p),l.append(i),l.append(o)}),this.prepend(l)},$.fn.snpt_narracio=function(a){var e=this,n=e.parent(),t="";n&&(n=n.parent(),n&&(t=n.attr("data-lang")));var r=e.find("a.accordion-toggle");r&&("ca"==t?r.append($('<span title="Explicació en àudio"> narrada </span>')):"es"==t?r.append($('<span title="Explicación con audio"> narrada </span>')):"en"==t&&r.append($('<span title="Explanation with audio"> with audio </span>')),r.append($('<i class="fas fa-headphones"></i>')));var s=e.find(".accordion-inner"),o=e.attr("data-audible"),p=o,i=[];p.startsWith("http")?i.push(p):(p="https://piworld.es/iedib/audible/"+o,i.push(p+".m4a"),i.push(p+".mp3"));var d=e.find("[data-from]"),l=e.find("[data-laser]"),u=e.find("[data-pen]");d.each(function(a,e){var n=$(e).attr("data-from");e.fromTime=n}),l.each(function(a,e){var n=$(e).attr("data-laser");e.lasers=[];for(var t=n.split("|"),r=0,s=t.length;s>r;r++){var o=t[r],p=o.split(",");if(p.length>=2){var i=0,d=0,l="md";i=parseInt(p[0]),d=parseInt(p[1]),p.length>2&&(l=(p[2]||"md").trim().toLowerCase()),e.lasers.push({start:i,end:d,pos:l})}else console.error("Invalid laser ",o)}}),u.each(function(a,e){var n=$(e).attr("data-pen");e.pen=[];for(var t=n.split("|"),r=0,s=t.length;s>r;r++){var o=t[r],p=o.split(",");if(3===p.length){var i=0,d=0,l={};i=parseInt(p[0]),d=parseInt(p[1]);for(var u=p[2].split(";"),a=0,c=u.length;c>a;a++){var f=u[a],h=f.split(":");if(2==h.length){var x=h[0].trim(),b=h[1].trim();l[x]=b}}e.pen.push({start:i,end:d,opts:l})}else console.error("Invalid penmarker ",o)}});var c=function(a){if(0==a)return d.fadeTo("fast",1),l.removeClass("pw-laser-md").removeClass("pw-laser-nw").removeClass("pw-laser-ne").removeClass("pw-laser-sw").removeClass("pw-laser-se"),void u.each(function(a,e){var n=$(e);n.snpt_erasepen()});for(var e=0,n=d.length;n>e;e++){var t=d[e];t.fromTime>a?$(t).fadeTo("fast",0):$(t).fadeTo("fast",1)}for(var e=0,n=l.length;n>e;e++){for(var t=l[e],r=null,s=0,o=t.lasers.length;o>s;s++){var p=t.lasers[s];if(p.start<=a&&a<=p.end){r=p.pos;break}}r?$(t).addClass("pw-laser-"+r):$(t).removeClass("pw-laser-md").removeClass("pw-laser-nw").removeClass("pw-laser-ne").removeClass("pw-laser-sw").removeClass("pw-laser-se")}for(var e=0,n=u.length;n>e;e++){var t=u[e],i=$(t);i.each(function(a,e){var n=$(e);n.snpt_erasepen()});for(var s=0,o=t.pen.length;o>s;s++){var p=t.pen[s];if(p.start<=a&&a<=p.end){var c=p.opts;c&&i.snpt_overlaypen(c)}}}},f=function(){d.fadeTo("fast",1)};s.snpt_player({id:o,src:i,onTimeupdate:c,onStop:f})},$('[role="snptd_narracio"]').each(function(a,e){$(e).snpt_narracio()})});
!function(){var e="presentacio";if(window.IB.sd[e])return console.error("Warning: "+e+" loaded twice."),void(window.IB.sd[e].bind&&window.IB.sd[e].bind());var t=function(e){this.contenidor=e;var t=[],t=[e.dataset.transition],n=e.querySelector("ul.nav.nav-tabs");n.style.display="none";var i=e.querySelectorAll("div.tab-content > div.tab-pane"),s=i.length,o=function(){for(var e=-1,t=0;s>t;t++)i[t].classList.contains("active")&&(e=t+1),i[t].classList.remove("active");e==s&&(e=s-1),i[e].classList.add("active"),document.querySelector(".Comptador").innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;  (Element "+(e+1)+" de "+s+")"},r=function(){for(var e=-1,t=0;s>t;t++)i[t].classList.contains("active")&&(e=(t-1)%s),i[t].classList.remove("active");0>e&&(e=0),i[e].classList.add("active"),document.querySelector(".Comptador").innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;  (Element "+(e+1)+" de "+s+")"},a=function(){for(var e=-1,t=0;s>t;t++)i[t].classList.remove("active");e=0,i[e].classList.add("active"),document.querySelector(".Comptador").innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;  (Element "+(e+1)+" de "+s+")"},c=function(){for(var e=-1,t=0;s>t;t++)i[t].classList.remove("active");e=s-1,i[e].classList.add("active"),document.querySelector(".Comptador").innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;  (Element "+(e+1)+" de "+s+")"};e.querySelector(".btn-step-forward").addEventListener("click",function(e){o()}),e.querySelector(".btn-step-backward").addEventListener("click",function(e){r()}),e.querySelector(".btn-first").addEventListener("click",function(e){a()}),e.querySelector(".btn-last").addEventListener("click",function(e){c()}),t[1]=4,t[2]=2,t[3]=4,t[4]=3,t[5]=5,t[6]=2;document.querySelector(".box_continguts")};t.prototype.dispose=function(){};var n={author:"Tomeu Fiol Coll",version:"1.0",inst:{}};window.IB.sd[e]=n;var i=function(){for(var n=document.querySelectorAll('[role="'+e+'"]'),i=0,s=n.length;s>i;i++){var o=n[i];if(!o.dataset.active){o.dataset.active="1";var r=new t(o),a=o.getAttribute("id");a||(a="dynamic_"+Math.random().toString(32).substring(2),o.id=a),window.IB.sd[e].inst[a]=r}}};n.bind=i,n.unbind=function(){for(var e=Object.values(n.inst),t=0,i=e.length;i>t;t++)e[t].dispose();n.inst={}},i()}();
!function(){var e="xcode",n=function(e,n){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,n&&(t.id=n),document.getElementsByTagName("head")[0].appendChild(t)},t=function(e,n,t){var s=document.createElement("script");s.src=e,n&&(s.id=n),t&&(s.onload=function(){t()}),document.getElementsByTagName("head")[0].appendChild(s)},s=function(){var e=function(){console.log("Load done"),i()};console.log("loading...."),t("https://iedib.net/assets/js/highlight.min.js","highlight.min.js",e)},i=function(){hljs.initHighlightingOnLoad(),hljs.initLineNumbersOnLoad&&hljs.initLineNumbersOnLoad(),window.document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0,cancelable:!0}))};document.querySelector("#hljs_styles")||(console.log("Loading css..."),n("https://iedib.net/assets/css/"+e+".min.css","hljs_styles")),window.hljs?i():s()}();
!function(){var COMPONENT_NAME="sample";if(window.IB.sd[COMPONENT_NAME])return console.error("Warning: "+COMPONENT_NAME+" loaded twice."),void(window.IB.sd[COMPONENT_NAME].bind&&window.IB.sd[COMPONENT_NAME].bind());var Snippet=function(e){var t=this;this.container=e,this.container.style="width:250px;padding:3px; border:1px solid gray;";var i=e.dataset.header;if(i){var n=document.createElement("div");n.innerHTML="<p><b>"+i+"</b></p>",n.style="width:100%;background: whitesmoke;margin:0;",e.prepend(n)}this.elements={capital:e.querySelector('input[name="capital"]'),interes:e.querySelector('input[name="interes"]'),termini:e.querySelector('input[name="termini"]'),boto:e.querySelector('button[name="submit"]'),sortida:e.querySelector('p[name="output"]')},this.defaults={capital:this.elements.capital.value,interes:this.elements.interes.value,termini:this.elements.termini.value},this.handler=function(){t.compute()},this.elements.boto.addEventListener("click",this.handler)};Snippet.prototype={reset:function(){this.elements.sortida.innerHTML="",this.elements.capital.innerHTML=this.defaults.capital,this.elements.interes.innerHTML=this.defaults.interes,this.elements.termini.innerHTML=this.defaults.termini},compute:function(){var ds=this.container.dataset,formula=ds.formula;"compost"==formula?formula="capital*Math.pow(1+interes/100, termini)":"simple"==formula&&(formula="capital*(1+termini*interes/100)");var capital=parseFloat(this.elements.capital.value),interes=parseFloat(this.elements.interes.value),termini=parseInt(this.elements.termini.value),context={capital:capital,interes:interes,termini:termini},resultat=eval(formula);return this.elements.sortida.innerHTML="El capital final és "+resultat.toFixed(2)+" €",resultat},dispose:function(){this.elements.sortida.innerHTML="",this.elements.boto.removeEventListener("click",this.handler),this.container.removeAttribute("data-active")}};var alias={author:"Josep Mulet",version:"1.0",inst:{}};window.IB.sd[COMPONENT_NAME]=alias;var bind=function(){for(var e=document.querySelectorAll('[role="'+COMPONENT_NAME+'"]'),t=0,i=e.length;i>t;t++){var n=e[t];if(!n.dataset.active){n.dataset.active="1";var a=new Snippet(n),r=n.getAttribute("id");r||(r="dynamic_"+Math.random().toString(32).substring(2),n.id=r),window.IB.sd[COMPONENT_NAME].inst[r]=a}}};alias.bind=bind,alias.unbind=function(){for(var e=Object.values(alias.inst),t=0,i=e.length;i>t;t++)e[t].dispose();alias.inst={}},bind()}();
!function(){var e="speak";if(window.IB.sd[e])return console.error("Warning: "+e+" loaded twice."),void(window.IB.sd[e].bind&&window.IB.sd[e].bind());var t=function(e,t){e=(e||"").toLowerCase();for(var n=0,i=null,s=(t||[]).length;s>n&&null==i;)t[n].lang.toLowerCase()==e&&(i=t[n]),n++;return i},n=function(e){var n=this;this._elem=e;var i=e.getAttribute("href").split("_")[1];e.title="Speak!";var s=window.speechSynthesis.getVoices(),r=t(i,s);if(this.handler=null,r){var i=this._elem.getAttribute("href").split("_")[1];this.utterance=new SpeechSynthesisUtterance(e.innerText),this.utterance.voice=r,e.classList.add("sd-speak-enabled"),this.handler=function(e){e.preventDefault(),n.play()},e.addEventListener("click",this.handler)}else e.removeAttribute("href")};n.prototype={play:function(){window.speechSynthesis.cancel(),window.speechSynthesis.speak(this.utterance)},dispose:function(){this._elem.removeEventListener("click",this.handler),this._elem.classList.remove("sd-speak-enabled"),this._elem.removeAttribute("data-active"),this._elem.removeAttribute("title")}};var i=function(t){for(var i=0,s=t.length;s>i;i++){var r=t[i];if(!r.classList.contains("sd-speak-enabled")){var a=new n(r),o=r.getAttribute("id");o||(o="sd_"+Math.random().toString(32).substring(2),r.setAttribute("id",o)),window.IB.sd[e].inst[o]=a}}window.addEventListener("unload",function(e){window.speechSynthesis.cancel()})},s={author:"Josep Mulet",version:"1.0",inst:{}};window.IB.sd[e]=s;var r=function(){var e=window.speechSynthesis,t=null!=e&&null!=window.SpeechSynthesisUtterance,n=document.querySelectorAll('a[href^="#speak_"]');if(t)(e.getVoices()||[]).length?i(n):e.addEventListener("voiceschanged",function(){i(n)});else for(var s=0,r=n.length;r>s;s++)n[s].removeAttribute("href")};s.bind=r,s.unbind=function(){for(var e=Object.values(s.inst),t=0,n=e.length;n>t;t++)e[t].dispose();s.inst={}},r()}();
window.wheelzoom=function(){var e={zoom:.03,maxZoom:10,initialZoom:1,initialX:.5,initialY:.5},t=function(t,n){function o(e){e.style.backgroundRepeat="no-repeat",e.style.backgroundImage='url("'+e.src+'")',h="data:image/svg+xml;base64,"+window.btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+e.naturalWidth+'" height="'+e.naturalHeight+'"></svg>'),e.src=h}function i(){w>0?w=0:l-v>w&&(w=l-v),p>0?p=0:c-g>p&&(p=c-g),t.style.backgroundSize=v+"px "+g+"px",t.style.backgroundPosition=w+"px "+p+"px"}function a(){v=l,g=c,w=p=0,i()}function r(e){var n=0;e.preventDefault(),e.deltaY?n=e.deltaY:e.wheelDelta&&(n=-e.wheelDelta);var o=t.getBoundingClientRect(),r=e.pageX-o.left-window.pageXOffset,s=e.pageY-o.top-window.pageYOffset,d=r-w,u=s-p,m=d/v,f=u/g;0>n?(v+=v*b.zoom,g+=g*b.zoom):(v-=v*b.zoom,g-=g*b.zoom),b.maxZoom&&(v=Math.min(l*b.maxZoom,v),g=Math.min(c*b.maxZoom,g)),w=r-v*m,p=s-g*f,l>=v||c>=g?a():i()}function s(e){e.preventDefault(),w+=e.pageX-f.pageX,p+=e.pageY-f.pageY,f=e,i()}function d(){document.removeEventListener("mouseup",d),document.removeEventListener("mousemove",s)}function u(e){e.preventDefault(),f=e,document.addEventListener("mousemove",s),document.addEventListener("mouseup",d)}function m(){var e=Math.max(b.initialZoom,1);if(t.src!==h){var n=window.getComputedStyle(t,null);l=parseInt(n.width,10),c=parseInt(n.height,10),v=l*e,g=c*e,w=-(v-l)*b.initialX,p=-(g-c)*b.initialY,o(t),t.style.backgroundSize=v+"px "+g+"px",t.style.backgroundPosition=w+"px "+p+"px",t.style.cursor="nesw-resize",t.addEventListener("wheelzoom.reset",a),t.addEventListener("wheel",r),t.addEventListener("mousedown",u)}}if(t&&t.nodeName&&"IMG"===t.nodeName){var l,c,v,g,w,p,f,h,b={},y=function(e){t.removeEventListener("wheelzoom.destroy",y),t.removeEventListener("wheelzoom.reset",a),t.removeEventListener("load",m),t.removeEventListener("mouseup",d),t.removeEventListener("mousemove",s),t.removeEventListener("mousedown",u),t.removeEventListener("wheel",r),t.style.backgroundImage=e.backgroundImage,t.style.backgroundRepeat=e.backgroundRepeat,t.src=e.src,t.style.cursor="default"}.bind(null,{backgroundImage:t.style.backgroundImage,backgroundRepeat:t.style.backgroundRepeat,src:t.src});t.addEventListener("wheelzoom.destroy",y),n=n||{},Object.keys(e).forEach(function(t){b[t]=void 0!==n[t]?n[t]:e[t]}),t.complete&&m(),t.addEventListener("load",m)}};return"function"!=typeof window.btoa?function(e){return e}:function(e,n){return e&&e.length?Array.prototype.forEach.call(e,function(e){t(e,n)}):e&&e.nodeName&&t(e,n),e}}(),function(){var e="zoom";if(window.IB.sd[e])return console.error("Warning: "+e+" loaded twice."),void(window.IB.sd[e].bind&&window.IB.sd[e].bind());var t={author:"Josep Mulet, Pep Mut",version:"1.0",inst:{}};window.IB.sd[e]=t;var n=function(){for(var e=document.querySelectorAll('img[role="snptd_zoom"]'),n=0,o=e.length;o>n;n++){var i=e[n];if(!i.dataset.active){setTimeout(function(e){i.style.maxWidth="95%"},1e3),i.dataset.active="1",wheelzoom(i);var a=i.getAttribute("id");a||(a="sd_"+Math.random().toString(32).substring(2),i.setAttribute("id",a)),t.inst[a]=i}}};t.unbind=function(){for(var e=Object.values(t.inst),n=0,o=e.length;o>n;n++)e[n].dispatchEvent(new Event("wheelzoom.destroy")),e[n].removeAttribute("data-active");t.inst={}},t.bind=n,n()}();
