window.IB = window.IB || {}; window.IB.sd = window.IB.sd || {};
        !function(){if(document.getElementById("sd_css_general")){return;}; var l = '   .converter-wrapper {   margin: 0 auto;   width: 100%;   max-width: 600px;   text-align: center;   padding: 10px;   box-sizing: border-box;  }   .converter-wrapper input {   font-family: "Open Sans", sans-serif;   font-size: 1em;   width: 100%;   text-align: center;   margin-top: 10px;   height: 40px;   box-sizing: border-box;  }   .converter-wrapper span {   position: relative;   display: inline-block;   vertical-align: middle;   width: 100%;  }   .converter-wrapper span select {   background-color: #263648;   color: #fff;   font-size: inherit;   padding: 10px;   width: 100%;   border: 0;   margin: 0;   border-radius: 0px;   text-indent: 0.01px;   text-overflow: "";   -webkit-appearance: none; /* hide default arrow in chrome OSX */  }   .converter-wrapper span::before,  .converter-wrapper span::after {   content: "";   position: absolute;   pointer-events: none;  }   .converter-wrapper span::after { /* Custom dropdown arrow */   content: "\\25BC";   height: 1em;   font-size: .625em;   line-height: 1;   right: 1.5em;   top: 50%;   margin-top: -.5em;   color: #131B24;  }   .converter-wrapper span::before { /* Custom dropdown arrow cover */   width: 2.5em;   right: 0;   top: 0;   bottom: 0;   border-radius: 0;   background-color: #202E3C;  }   .converter-side-a,  .converter-side-b {   float: left;   margin-top: 10px;   box-sizing: border-box;   width: 45%;  }   .converter-equals {   float: left;   box-sizing: border-box;   width: 10%;   color: #FFF;   font-size: 2.4em;   line-height: 0;   text-align: center;  }   .converter-side-a {   padding-right: 10px;  }   .converter-side-b {   padding-left: 10px;  }'; var s = document.createElement('style'); s.type = 'text/css'; s.innerHTML = l; s.id="sd_css_general"; document.getElementsByTagName('head')[0].appendChild(s);}();
        function UpdateUnitMenu(e,r){var o;o=e.selectedIndex,FillMenuWithArray(r,unit[o])}function FillMenuWithArray(e,r){var o;for(e.length=r.length,o=0;o<r.length;o++)e.options[o].text=r[o]}function CalculateUnit(e,r){var o=e.unit_input.value;o=parseFloat(o),isNaN(o)&&0!=o||(e.unit_input.value=o,ConvertFromTo(e,r))}function ConvertFromTo(e,r){var o,t,n,a,i,c;o=document.property_form.the_menu.selectedIndex,t=e.unit_menu.selectedIndex,n=factor[o][t],a=r.unit_menu.selectedIndex,i=factor[o][a],c=e.unit_input.value,"Temperature"==property[o]&&(c=parseFloat(c)+tempIncrement[t]),c*=n,c/=i,"Temperature"==property[o]&&(c=parseFloat(c)-tempIncrement[a]),r.unit_input.value=c}var property=new Array,unit=new Array,factor=new Array;property[0]="Acceleration",unit[0]=new Array("Meter/sq.sec (m/sec^2)","Foot/sq.sec (ft/sec^2)","G (g)","Galileo (gal)","Inch/sq.sec (in/sec^2)"),factor[0]=new Array(1,.3048,9.80665,.01,.0254),property[1]="Area",unit[1]=new Array("Square meter (m^2)","Acre (acre)","Are","Barn (barn)","Hectare","Rood","Square centimeter","Square kilometer","Circular mil","Square foot (ft^2)","Square inch (in^2)","Square mile (mi^2)","Square yard (yd^2)"),factor[1]=new Array(1,4046.856,100,1e-28,1e4,1011.71413184285,1e-4,1e6,5.067075e-10,.09290304,64516e-8,2589988,.8361274),property[2]="Torque",unit[2]=new Array("Newton-meter (N m)","Dyne-centimeter(dy cm)","Kgrf-meter (kgf m)","lbf-inch (lbf in)","lbf-foot (lbf ft)"),factor[2]=new Array(1,1e-7,9.80665,.1129848,1.355818),property[3]="Electricity",unit[3]=new Array("Coulomb (Cb)","Abcoulomb","Ampere hour (A hr)","Faraday (F)","Statcoulomb","Millifaraday (mF)","Microfaraday (mu-F)","Picofaraday (pF)"),factor[3]=new Array(1,10,3600,96521.8999999997,3.33564e-10,96.5219,.0965219,965219e-10),property[4]="Energy",unit[4]=new Array("Joule (J)","BTU (mean)","BTU (thermochemical)","Calorie (SI) (cal)","Calorie (mean)(cal)","Calorie (thermo)","Electron volt (eV)","Erg (erg)","Foot-pound force","Foot-poundal","Horsepower-hour","Kilocalorie (SI)(kcal)","Kilocalorie (mean)(kcal)","Kilowatt-hour (kW hr)","Ton of TNT","Volt-coulomb (V Cb)","Watt-hour (W hr)","Watt-second (W sec)"),factor[4]=new Array(1,1055.87,1054.35,4.1868,4.19002,4.184,1.6021e-19,1e-7,1.355818,.04214011,2684077.3,4186.8,4190.02,36e5,42e8,1,3600,1),property[5]="Force",unit[5]=new Array("Newton (N)","Dyne (dy)","Kilogram force (kgf)","Kilopond force (kpf)","Kip (k)","Ounce force (ozf)","Pound force (lbf)","Poundal"),factor[5]=new Array(1,1e-5,9.80665,9.80665,4448.222,.2780139,.4535924,.138255),property[6]="Force / Length",unit[6]=new Array("Newton/meter (N/m)","Pound force/inch (lbf/in)","Pound force/foot (lbf/ft)"),factor[6]=new Array(1,175.1268,14.5939),property[7]="Length",unit[7]=new Array("Meter (m)","Angstrom (A')","Astronomical unit (AU)","Caliber (cal)","Centimeter (cm)","Kilometer (km)","Ell","Em","Fathom","Furlong","Fermi (fm)","Foot (ft)","Inch (in)","League (int'l)","League (UK)","Light year (LY)","Micrometer (mu-m)","Mil","Millimeter (mm)","Nanometer (nm)","Mile (int'l nautical)","Mile (UK nautical)","Mile (US nautical)","Mile (US statute)","Parsec","Pica (printer)","Picometer (pm)","Point (pt)","Rod","Yard (yd)"),factor[7]=new Array(1,1e-10,149598e6,254e-6,.01,1e3,1.143,.0042323,1.8288,201.168,1e-15,.3048,.0254,5556,5556,946055e10,1e-6,254e-7,.001,1e-9,1852,1853.184,1852,1609.344,308374e11,.004217518,1e-12,.0003514598,5.0292,.9144),property[8]="Light",unit[8]=new Array("Lumen/sq.meter (Lu/m^2)","Lumen/sq.centimeter","Lumen/sq.foot","Foot-candle (ft-cdl)","Foot-lambert","Candela/sq.meter","Candela/sq.centimeter","Lux (lux)","Phot"),factor[8]=new Array(1,1e4,10.76391,10.76391,10.76391,3.14159250538575,31415.9250538576,1,1e4),property[9]="Mass",unit[9]=new Array("Kilogram (kgr)","Gram (gr)","Milligram (mgr)","Microgram (mu-gr)","Carat (metric)(ct)","Hundredweight (long)","Hundredweight (short)","Pound mass (lbm)","Pound mass (troy)","Ounce mass (ozm)","Ounce mass (troy)","Slug","Ton (assay)","Ton (long)","Ton (short)","Ton (metric)","Tonne"),factor[9]=new Array(1,.001,1e-6,1e-9,2e-4,50.80235,45.35924,.4535924,.3732417,.02834952,.03110348,14.5939,.02916667,1016.047,907.1847,1e3,1e3),property[10]="Mass Flow",unit[10]=new Array("Kilogram/second (kgr/sec)","Pound mass/sec (lbm/sec)","Pound mass/min (lbm/min)"),factor[10]=new Array(1,.4535924,.007559873),property[11]="Density & Mass capacity",unit[11]=new Array("Kilogram/cub.meter","Grain/galon","Grams/cm^3 (gr/cc)","Pound mass/cubic foot","Pound mass/cubic-inch","Ounces/gallon (UK,liq)","Ounces/gallon (US,liq)","Ounces (mass)/inch","Pound mass/gal (UK,liq)","Pound mass/gal (US,liq)","Slug/cubic foot","Tons (long,mass)/cub.yard"),factor[11]=new Array(1,.01711806,1e3,16.01846,27679.91,6.236027,7.489152,1729.994,99.77644,119.8264,515.379,1328.939),property[12]="Power",unit[12]=new Array("Watt (W)","Kilowatt (kW)","Megawatt (MW)","Milliwatt (mW)","BTU (SI)/hour","BTU (thermo)/second","BTU (thermo)/minute","BTU (thermo)/hour","Calorie (thermo)/second","Calorie (thermo)/minute","Erg/second","Foot-pound force/hour","Foot-pound force/minute","Foot-pound force/second","Horsepower(550 ft lbf/s)","Horsepower (electric)","Horsepower (boiler)","Horsepower (metric)","Horsepower (UK)","Kilocalorie (thermo)/min","Kilocalorie (thermo)/sec"),factor[12]=new Array(1,1e3,1e6,.001,.2930667,1054.35,17.5725,.2928751,4.184,.06973333,1e-7,.0003766161,.02259697,1.355818,745.7,746,9809.5,735.499,745.7,69.7333,4184),property[13]="Pressure & Stress",unit[13]=new Array("Newton/sq.meter","Atmosphere (normal)","Atmosphere (techinical)","Bar","Centimeter mercury(cmHg)","Centimeter water (4'C)","Decibar","Kgr force/sq.centimeter","Kgr force/sq.meter","Kip/square inch","Millibar","Millimeter mercury(mmHg)","Pascal (Pa)","Kilopascal (kPa)","Megapascal (Mpa)","Poundal/sq.foot","Pound-force/sq.foot","Pound-force/sq.inch (psi)","Torr (mmHg,0'C)"),factor[13]=new Array(1,101325,98066.5,1e5,1333.22,98.0638,1e4,98066.5,9.80665,6894757,100,133.3224,1,1e3,1e6,47.88026,47.88026,6894.757,133.322),property[14]="Temperature",unit[14]=new Array("Degrees Celsius ('C)","Degrees Fahrenheit ('F)","Degrees Kelvin ('K)","Degrees Rankine ('R)"),factor[14]=new Array(1,.555555555555,1,.555555555555),tempIncrement=new Array(0,-32,-273.15,-491.67),property[15]="Time",unit[15]=new Array("Second (sec)","Day (mean solar)","Day (sidereal)","Hour (mean solar)","Hour (sidereal)","Minute (mean solar)","Minute (sidereal)","Month (mean calendar)","Second (sidereal)","Year (calendar)","Year (tropical)","Year (sidereal)"),factor[15]=new Array(1,86400,86164.09,3600,3590.17,60,60,2628e3,.9972696,31536e3,31556930,31558150),property[16]="Velocity & Speed",unit[16]=new Array("Meter/second (m/sec)","Foot/minute (ft/min)","Foot/second (ft/sec)","Kilometer/hour (kph)","Knot (int'l)","Mile (US)/hour (mph)","Mile (nautical)/hour","Mile (US)/minute","Mile (US)/second","Speed of light (c)","Mach (STP)(a)"),factor[16]=new Array(1,.00508,.3048,.2777778,.5144444,.44707,.514444,26.8224,1609.344,299792458,340.006875),property[17]="Viscosity",unit[17]=new Array("Newton-second/meter","Centipoise","Centistoke","Sq.foot/second","Poise","Poundal-second/sq.foot","Pound mass/foot-second","Pound force-second/sq.foot","Rhe","Slug/foot-second","Stoke"),factor[17]=new Array(1,.001,1e-6,.09290304,.1,1.488164,1.488164,47.88026,10,47.88026,1e-4),property[18]="Volume & Capacity",unit[18]=new Array("Cubic Meter (m^3)","Cubic centimeter","Cubic millimeter","Acre-foot","Barrel (oil)","Board foot","Bushel (US)","Cup","Fluid ounce (US)","Cubic foot","Gallon (UK)","Gallon (US,dry)","Gallon (US,liq)","Gill (UK)","Gill (US)","Cubic inch (in^3)","Liter (new)","Liter (old)","Ounce (UK,fluid)","Ounce (US,fluid)","Peck (US)","Pint (US,dry)","Pint (US,liq)","Quart (US,dry)","Quart (US,liq)","Stere","Tablespoon","Teaspoon","Ton (register)","Cubic yard"),factor[18]=new Array(1,1e-6,1e-9,1233.482,.1589873,.002359737,.03523907,.0002365882,2957353e-11,.02831685,.004546087,.004404884,.003785412,.0001420652,.0001182941,1638706e-11,.001,.001000028,2841305e-11,2957353e-11,.008809768,.0005506105,.0004731765,.001101221,946353e-9,1,1478676e-11,4928922e-12,2.831685,.7645549),property[19]="Volume Flow",unit[19]=new Array("Cubic meter/second","Cubic foot/second","Cubic foot/minute","Cubic inches/minute","Gallons (US,liq)/minute)"),factor[19]=new Array(1,.02831685,.0004719474,2.731177e-7,630902e-10),window.onload=function(e){FillMenuWithArray(document.property_form.the_menu,property),UpdateUnitMenu(document.property_form.the_menu,document.form_A.unit_menu),UpdateUnitMenu(document.property_form.the_menu,document.form_B.unit_menu)},document.getElementsByClassName("numbersonly")[0].addEventListener("keydown",function(e){var r=e.keyCode?e.keyCode:e.which;-1!==[8,9,13,27,46,110,190].indexOf(r)||65==r&&(e.ctrlKey||e.metaKey)||67==r&&(e.ctrlKey||e.metaKey)||86==r&&(e.ctrlKey||e.metaKey)||r>=35&&40>=r||r>=48&&57>=r&&!e.shiftKey&&!e.altKey||(r>=96&&105>=r)(190==r)||e.preventDefault()}); 
Array.indexOf||(Array.prototype.indexOf=function(t,s){for(var i=s||0;i<this.length;i++)if(this[i]===t)return i;return-1});var Parser=function(t){function s(t){function s(){}return s.prototype=t,new s}function i(t,s,i,e){this.type_=t,this.index_=s||0,this.prio_=i||0,this.number_=void 0!==e&&null!==e?e:0,this.toString=function(){switch(this.type_){case B:return this.number_;case R:case V:case W:return this.index_;case G:return"CALL";default:return"Invalid Token"}}}function e(t,s,i,e){this.tokens=t,this.ops1=s,this.ops2=i,this.functions=e}function n(t){return"string"==typeof t?(J.lastIndex=0,J.test(t)?"'"+t.replace(J,function(t){var s=T[t];return"string"==typeof s?s:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+"'":"'"+t+"'"):t}function r(t,s){return Number(t)+Number(s)}function o(t,s){return t-s}function h(t,s){return t*s}function a(t,s){return t/s}function p(t,s){return t%s}function u(t,s){return""+t+s}function f(t,s){return t==s}function c(t,s){return t!=s}function l(t,s){return t>s}function d(t,s){return s>t}function g(t,s){return t>=s}function k(t,s){return s>=t}function v(t,s){return Boolean(t&&s)}function M(t,s){return Boolean(t||s)}function m(t){return Math.sinh?Math.sinh(t):(Math.exp(t)-Math.exp(-t))/2}function _(t){return Math.cosh?Math.cosh(t):(Math.exp(t)+Math.exp(-t))/2}function b(t){return Math.tanh?Math.tanh(t):t===1/0?1:t===-(1/0)?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function w(t){return Math.asinh?Math.asinh(t):t===-(1/0)?t:Math.log(t+Math.sqrt(t*t+1))}function y(t){return Math.acosh?Math.acosh(t):Math.log(t+Math.sqrt(t*t-1))}function C(t){return Math.atanh?Math.atanh(t):Math.log((1+t)/(1-t))/2}function A(t){return Math.log(t)*Math.LOG10E}function S(t){return-t}function E(t){return Math.trunc?Math.trunc(t):x<0?Math.ceil(x):Math.floor(x)}function O(t){return Math.random()*(t||1)}function P(t){t=Math.floor(t);for(var s=t;t>1;)s*=--t;return s}function N(){if(Math.hypot)return Math.hypot.apply(this,arguments);for(var t=0,s=arguments.length,i=0;s>i;i++){if(arguments[i]===1/0||arguments[i]===-(1/0))return 1/0;t+=arguments[i]*arguments[i]}return Math.sqrt(t)}function q(t,s,i){return t?s:i}function I(t){return"undefined"==typeof t&&(t=""),t.toString().length}function L(t,s,i){return"undefined"==typeof i||0===+i?Math[t](s):(s=+s,i=-+i,isNaN(s)||"number"!=typeof i||i%1!==0?NaN:(s=s.toString().split("e"),s=Math[t](+(s[0]+"e"+(s[1]?+s[1]-i:-i))),s=s.toString().split("e"),+(s[0]+"e"+(s[1]?+s[1]+i:i))))}function j(t,s){return t instanceof Array&&(s=t[1],t=t[0]),L("round",t,s)}function F(t,s){return"[object Array]"!=Object.prototype.toString.call(t)?[t,s]:(t=t.slice(),t.push(s),t)}function U(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:m,cosh:_,tanh:b,asinh:w,acosh:y,atanh:C,sqrt:Math.sqrt,log:Math.log,lg:A,log10:A,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:j,trunc:E,"-":S,exp:Math.exp},this.ops2={"+":r,"-":o,"*":h,"/":a,"%":p,"^":Math.pow,",":F,"||":u,"==":f,"!=":c,">":l,"<":d,">=":g,"<=":k,and:v,or:M},this.functions={random:O,fac:P,min:Math.min,max:Math.max,hypot:N,pyt:N,pow:Math.pow,atan2:Math.atan2,"if":q,len:I},this.consts={E:Math.E,PI:Math.PI}}var B=0,R=1,V=2,W=3,G=4,J=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,T={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};e.prototype={simplify:function(t){t=t||{};var n,r,o,h,a=[],p=[],u=this.tokens.length,f=0;for(f=0;u>f;f++){h=this.tokens[f];var c=h.type_;if(c===B)a.push(h);else if(c===W&&h.index_ in t)h=new i(B,0,0,t[h.index_]),a.push(h);else if(c===V&&a.length>1)r=a.pop(),n=a.pop(),o=this.ops2[h.index_],h=new i(B,0,0,o(n.number_,r.number_)),a.push(h);else if(c===R&&a.length>0)n=a.pop(),o=this.ops1[h.index_],h=new i(B,0,0,o(n.number_)),a.push(h);else{for(;a.length>0;)p.push(a.shift());p.push(h)}}for(;a.length>0;)p.push(a.shift());return new e(p,s(this.ops1),s(this.ops2),s(this.functions))},substitute:function(t,n){n instanceof e||(n=(new U).parse(String(n)));var r,o=[],h=this.tokens.length,a=0;for(a=0;h>a;a++){r=this.tokens[a];var p=r.type_;if(p===W&&r.index_===t)for(var u=0;u<n.tokens.length;u++){var f=n.tokens[u],c=new i(f.type_,f.index_,f.prio_,f.number_);o.push(c)}else o.push(r)}var l=new e(o,s(this.ops1),s(this.ops2),s(this.functions));return l},evaluate:function(t){t=t||{};var s,i,e,n,r=[],o=this.tokens.length,h=0;for(h=0;o>h;h++){n=this.tokens[h];var a=n.type_;if(a===B)r.push(n.number_);else if(a===V)i=r.pop(),s=r.pop(),e=this.ops2[n.index_],r.push(e(s,i));else if(a===W)if(n.index_ in t)r.push(t[n.index_]);else{if(!(n.index_ in this.functions))throw new Error("undefined variable: "+n.index_);r.push(this.functions[n.index_])}else if(a===R)s=r.pop(),e=this.ops1[n.index_],r.push(e(s));else{if(a!==G)throw new Error("invalid Expression");if(s=r.pop(),e=r.pop(),!e.apply||!e.call)throw new Error(e+" is not a function");"[object Array]"==Object.prototype.toString.call(s)?r.push(e.apply(void 0,s)):r.push(e.call(void 0,s))}}if(r.length>1)throw new Error("invalid Expression (parity)");return r[0]},toString:function(t){var s,i,e,r,o=[],h=this.tokens.length,a=0;for(a=0;h>a;a++){r=this.tokens[a];var p=r.type_;if(p===B)o.push(n(r.number_));else if(p===V)i=o.pop(),s=o.pop(),e=r.index_,t&&"^"==e?o.push("Math.pow("+s+","+i+")"):o.push("("+s+e+i+")");else if(p===W)o.push(r.index_);else if(p===R)s=o.pop(),e=r.index_,"-"===e?o.push("("+e+s+")"):o.push(e+"("+s+")");else{if(p!==G)throw new Error("invalid Expression");s=o.pop(),e=o.pop(),o.push(e+"("+s+")")}}if(o.length>1)throw new Error("invalid Expression (parity)");return o[0]},variables:function(){for(var t=this.tokens.length,s=[],i=0;t>i;i++){var e=this.tokens[i];e.type_===W&&-1==s.indexOf(e.index_)&&s.push(e.index_)}return s},toJSFunction:function(t,s){var i=new Function(t,"with(Parser.values) { return "+this.simplify(s).toString(!0)+"; }");return i}},U.parse=function(t){return(new U).parse(t)},U.evaluate=function(t,s){return U.parse(t).evaluate(s)},U.Expression=e,U.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:m,cosh:_,tanh:b,asinh:w,acosh:y,atanh:C,sqrt:Math.sqrt,log:Math.log,lg:A,log10:A,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:j,trunc:E,random:O,fac:P,exp:Math.exp,min:Math.min,max:Math.max,hypot:N,pyt:N,pow:Math.pow,atan2:Math.atan2,"if":q,len:I,E:Math.E,PI:Math.PI};var z=1,D=2,H=4,K=8,Q=16,X=32,Y=64,Z=128,$=256;return U.prototype={parse:function(t){this.errormsg="",this.success=!0;var n=[],r=[];this.tmpprio=0;var o=z|K|H|Y,h=0;for(this.expression=t,this.pos=0;this.pos<this.expression.length;)if(this.isOperator())this.isSign()&&o&Y?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",h++,this.addfunc(r,n,R)),o=z|K|H|Y):this.isComment()||(0===(o&D)&&this.error_parsing(this.pos,"unexpected operator"),h+=2,this.addfunc(r,n,V),o=z|K|H|Y);else if(this.isNumber()){0===(o&z)&&this.error_parsing(this.pos,"unexpected number");var a=new i(B,0,0,this.tokennumber);r.push(a),o=D|Q|X}else if(this.isString()){0===(o&z)&&this.error_parsing(this.pos,"unexpected string");var a=new i(B,0,0,this.tokennumber);r.push(a),o=D|Q|X}else if(this.isLeftParenth())0===(o&K)&&this.error_parsing(this.pos,'unexpected "("'),o&Z&&(h+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(r,n,G)),o=z|K|H|Y|$;else if(this.isRightParenth()){if(o&$){var a=new i(B,0,0,[]);r.push(a)}else 0===(o&Q)&&this.error_parsing(this.pos,'unexpected ")"');o=D|Q|X|K|Z}else if(this.isComma())0===(o&X)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(r,n,V),h+=2,o=z|K|H|Y;else if(this.isConst()){0===(o&z)&&this.error_parsing(this.pos,"unexpected constant");var p=new i(B,0,0,this.tokennumber);r.push(p),o=D|Q|X}else if(this.isOp2())0===(o&H)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(r,n,V),h+=2,o=K;else if(this.isOp1())0===(o&H)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(r,n,R),h++,o=K;else if(this.isVar()){0===(o&z)&&this.error_parsing(this.pos,"unexpected variable");var u=new i(W,this.tokenindex,0,0);r.push(u),o=D|Q|X|K|Z}else this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');n.length>0;){var f=n.pop();r.push(f)}return h+1!==r.length&&this.error_parsing(this.pos,"parity"),new e(r,s(this.ops1),s(this.ops2),s(this.functions))},evaluate:function(t,s){return this.parse(t).evaluate(s)},error_parsing:function(t,s){throw this.success=!1,this.errormsg="parse error [column "+t+"]: "+s,this.column=t,new Error(this.errormsg)},addfunc:function(t,s,e){for(var n=new i(e,this.tokenindex,this.tokenprio+this.tmpprio,0);s.length>0&&n.prio_<=s[s.length-1].prio_;)t.push(s.pop());s.push(n)},isNumber:function(){for(var t=!1,s="";this.pos<this.expression.length;){var i=this.expression.charCodeAt(this.pos);if(!(i>=48&&57>=i||46===i))break;s+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(s),t=!0}return t},unescape:function(t,s){for(var i=[],e=!1,n=0;n<t.length;n++){var r=t.charAt(n);if(e){switch(r){case"'":i.push("'");break;case"\\":i.push("\\");break;case"/":i.push("/");break;case"b":i.push("\b");break;case"f":i.push("\f");break;case"n":i.push("\n");break;case"r":i.push("\r");break;case"t":i.push("	");break;case"u":var o=parseInt(t.substring(n+1,n+5),16);i.push(String.fromCharCode(o)),n+=4;break;default:throw this.error_parsing(s+n,"Illegal escape sequence: '\\"+r+"'")}e=!1}else"\\"==r?e=!0:i.push(r)}return i.join("")},isString:function(){var t=!1,s="",i=this.pos;if(this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){var e=this.expression.charAt(this.pos);if("'"==e&&"\\"!=s.slice(-1)){this.pos++,this.tokennumber=this.unescape(s,i),t=!0;break}s+=this.expression.charAt(this.pos),this.pos++}return t},isConst:function(){var t;for(var s in this.consts){var i=s.length;if(t=this.expression.substr(this.pos,i),s===t)return this.tokennumber=this.consts[s],this.pos+=i,!0}return!1},isOperator:function(){var t=this.expression.charCodeAt(this.pos);if(43===t)this.tokenprio=2,this.tokenindex="+";else if(45===t)this.tokenprio=2,this.tokenindex="-";else if(62===t)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,this.tokenprio=1,this.tokenindex=">="):(this.tokenprio=1,this.tokenindex=">");else if(60===t)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,this.tokenprio=1,this.tokenindex="<="):(this.tokenprio=1,this.tokenindex="<");else if(124===t){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="||"}else if(61===t){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="=="}else if(33===t){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="!="}else if(97===t){if(110!==this.expression.charCodeAt(this.pos+1)||100!==this.expression.charCodeAt(this.pos+2))return!1;this.pos++,this.pos++,this.tokenprio=0,this.tokenindex="and"}else if(111===t){if(114!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="or"}else if(42===t||8729===t||8226===t)this.tokenprio=3,this.tokenindex="*";else if(47===t)this.tokenprio=4,this.tokenindex="/";else if(37===t)this.tokenprio=4,this.tokenindex="%";else{if(94!==t)return!1;this.tokenprio=5,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 45===t||43===t?!0:!1},isPositiveSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 43===t?!0:!1},isNegativeSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 45===t?!0:!1},isLeftParenth:function(){var t=this.expression.charCodeAt(this.pos);return 40===t?(this.pos++,this.tmpprio+=10,!0):!1},isRightParenth:function(){var t=this.expression.charCodeAt(this.pos);return 41===t?(this.pos++,this.tmpprio-=10,!0):!1},isComma:function(){var t=this.expression.charCodeAt(this.pos);return 44===t?(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0):!1},isWhite:function(){var t=this.expression.charCodeAt(this.pos);return 32===t||9===t||10===t||13===t?(this.pos++,!0):!1},isOp1:function(){for(var t="",s=this.pos;s<this.expression.length;s++){var i=this.expression.charAt(s);if(i.toUpperCase()===i.toLowerCase()&&(s===this.pos||"_"!=i&&("0">i||i>"9")))break;t+=i}return t.length>0&&t in this.ops1?(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0):!1},isOp2:function(){for(var t="",s=this.pos;s<this.expression.length;s++){var i=this.expression.charAt(s);if(i.toUpperCase()===i.toLowerCase()&&(s===this.pos||"_"!=i&&("0">i||i>"9")))break;t+=i}return t.length>0&&t in this.ops2?(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0):!1},isVar:function(){for(var t="",s=this.pos;s<this.expression.length;s++){var i=this.expression.charAt(s);if(i.toUpperCase()===i.toLowerCase()&&(s===this.pos||"_"!=i&&("0">i||i>"9")))break;t+=i}return t.length>0?(this.tokenindex=t,this.tokenprio=4,this.pos+=t.length,!0):!1},isComment:function(){var t=this.expression.charCodeAt(this.pos-1);return 47===t&&42===this.expression.charCodeAt(this.pos)?(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0):!1}},t.Parser=U,U}("undefined"==typeof exports?{}:exports);